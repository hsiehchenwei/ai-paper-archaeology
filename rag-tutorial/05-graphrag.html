<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GraphRAG：從局部到全局的知識圖譜 RAG | RAG 演進史</title>
    <meta name="description" content="From Local to Global: A Graph RAG Approach to Query-Focused Summarization 深度解析。Microsoft 整合知識圖譜，實現跨文檔推理與全局摘要。" />
    <link rel="stylesheet" href="../styles/global.css" />
    <link rel="stylesheet" href="../styles/paper-reading.css" />
    <link rel="stylesheet" href="../styles/articles.css" />
  </head>
  <body>
    <div class="container">
      <!-- 麵包屑導航 -->
      <div class="breadcrumb">
        <a href="../index.html">🏠 首頁</a> / 
        <a href="index.html">📚 RAG 演進史</a> / 
        GraphRAG
      </div>

      <!-- 論文資訊卡 -->
      <div class="index-header" style="background: linear-gradient(135deg, #10b981, #059669);">
        <h1>🕸️ GraphRAG</h1>
        <p>From Local to Global:<br />A Graph RAG Approach to Query-Focused Summarization</p>
        <p style="font-size: 0.9rem; margin-top: 15px; opacity: 0.95;">
          Darren Edge, Ha Trinh, Newman Cheng, et al.<br />
          <strong>Microsoft Research</strong> · 2024 年 4 月
        </p>
        <p style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; margin-top: 15px; font-size: 0.9rem;">
          🌐 解決傳統 RAG 的「局部問題」限制
        </p>
      </div>

      <!-- 一句話總結 -->
      <div class="key-concept">
        <h4>💡 一句話總結</h4>
        <p style="font-size: 1.1rem;">
          GraphRAG 整合知識圖譜，突破傳統 RAG 只能回答「局部問題」的限制。
          透過 Community Detection 和全局摘要，實現跨文檔推理與全局視角回答。
        </p>
      </div>

      <!-- 論文 PDF 連結 -->
      <div style="background: var(--secondary-light); padding: 15px; border-radius: var(--radius-md); margin: 30px 0; text-align: center;">
        <a href="papers/graphrag.pdf" target="_blank" style="color: var(--secondary-color); font-weight: 600; text-decoration: none; font-size: 1.05rem;">
          📄 下載論文原文 PDF →
        </a>
      </div>

      <!-- 問題背景 -->
      <h2>🤔 傳統 RAG 的限制</h2>

      <div class="explanation">
        <h4>📐 局部 vs 全局問題</h4>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
          <div style="background: var(--primary-light); padding: 20px; border-radius: var(--radius-md); border-left: 4px solid var(--primary-color);">
            <h5 style="color: var(--primary-color); margin-top: 0;">✅ Local Questions<br />(局部問題)</h5>
            <p style="font-size: 0.95rem; line-height: 1.7;">
              「誰發明了電話？」<br />
              「巴黎是哪裡的首都？」<br />
              <strong>傳統 RAG 擅長</strong>
            </p>
          </div>
          <div style="background: var(--danger-light); padding: 20px; border-radius: var(--radius-md); border-left: 4px solid var(--danger-color);">
            <h5 style="color: var(--danger-color); margin-top: 0;">❌ Global Questions<br />(全局問題)</h5>
            <p style="font-size: 0.95rem; line-height: 1.7;">
              「這個資料集的主要主題是什麼？」<br />
              「這些事件之間有什麼關聯？」<br />
              <strong>傳統 RAG 無法回答</strong>
            </p>
          </div>
        </div>
        <p style="margin-top: 20px; font-weight: 600; color: var(--secondary-color);">
          GraphRAG 的目標：讓 RAG 也能回答全局問題！
        </p>
      </div>

      <!-- 核心架構 -->
      <h2>🔧 GraphRAG 架構</h2>

      <!-- 視覺化圖解 -->
      <div style="text-align: center; margin: 40px 0;">
        <img src="images/graphrag-architecture.png" alt="GraphRAG 三階段架構圖" style="max-width: 100%; border-radius: 12px; box-shadow: var(--shadow-lg);" />
        <p style="margin-top: 15px; color: var(--text-secondary); font-size: 0.9rem;">
          📊 GraphRAG 三階段流程：知識圖譜建構 → 社群偵測 → 查詢處理
        </p>
      </div>

      <div class="key-concept">
        <h4>💡 論文原始圖表</h4>
        <p>
          GraphRAG 論文中的 <strong>Figure 1</strong> 展示了完整的系統架構：
        </p>
        <ul>
          <li><strong>Source Documents</strong>：原始文檔作為輸入</li>
          <li><strong>Element Instances</strong>：提取實體、關係和主張（claims）</li>
          <li><strong>Element Summaries</strong>：為每個元素生成摘要</li>
          <li><strong>Graph Communities</strong>：基於圖譜的社群偵測（Leiden 演算法）</li>
          <li><strong>Community Summaries</strong>：為每個社群生成層次化摘要</li>
          <li><strong>Community Answers</strong>：使用社群摘要回答全局問題</li>
        </ul>
        <p style="margin-top: 10px; font-size: 0.9rem; color: var(--text-secondary);">
          📄 請參考 <a href="papers/graphrag.pdf" target="_blank" style="color: var(--primary-color);">論文 PDF</a> 第 2 頁 Figure 1
        </p>
      </div>

      <div class="section-block">
        <h3 style="color: var(--secondary-color);">三階段 Pipeline</h3>
        
        <div style="background: var(--primary-light); padding: 20px; border-radius: var(--radius-md); margin: 20px 0;">
          <h4 style="margin-top: 0;">1️⃣ Knowledge Graph 建構</h4>
          <ul>
            <li>從文檔中提取實體（人物、地點、組織等）</li>
            <li>識別實體之間的關係</li>
            <li>建立知識圖譜（Entity → Relation → Entity）</li>
          </ul>
        </div>

        <div style="background: var(--secondary-light); padding: 20px; border-radius: var(--radius-md); margin: 20px 0;">
          <h4 style="margin-top: 0;">2️⃣ Community Detection</h4>
          <ul>
            <li>在知識圖譜中找出相關實體的「社群」</li>
            <li>每個社群代表一個主題或概念</li>
            <li>為每個社群生成摘要</li>
          </ul>
        </div>

        <div style="background: var(--accent-light); padding: 20px; border-radius: var(--radius-md); margin: 20px 0;">
          <h4 style="margin-top: 0;">3️⃣ Query Processing</h4>
          <ul>
            <li><strong>Local 查詢</strong>：直接檢索相關文檔</li>
            <li><strong>Global 查詢</strong>：使用社群摘要回答</li>
            <li>結合兩種策略提供完整答案</li>
          </ul>
        </div>
      </div>

      <div class="analogy">
        <h4>🎯 生活類比：圖書館 vs 知識地圖</h4>
        <p><strong>傳統 RAG</strong> = 圖書館目錄</p>
        <ul>
          <li>可以找到「某本書在哪裡」</li>
          <li>但無法回答「這些書的共同主題是什麼」</li>
        </ul>
        <p><strong>GraphRAG</strong> = 知識地圖</p>
        <ul>
          <li>不只知道「書在哪裡」</li>
          <li>還知道「書之間的關聯」</li>
          <li>可以回答「整個圖書館的主題分布」</li>
        </ul>
      </div>

      <!-- 技術細節 -->
      <h2>💡 核心技術</h2>

      <div class="key-concept">
        <h4>🕸️ Knowledge Graph 建構</h4>
        <p>GraphRAG 使用 LLM 從文檔中提取實體和關係：</p>
        <ol style="line-height: 2;">
          <li><strong>實體提取</strong>：識別文檔中的人物、組織、地點等</li>
          <li><strong>關係識別</strong>：找出實體之間的關係（例如：A 是 B 的創辦人）</li>
          <li><strong>圖譜建構</strong>：建立 Entity-Relation-Entity 三元組</li>
          <li><strong>圖譜優化</strong>：合併重複實體，清理噪音</li>
        </ol>
      </div>

      <div class="key-concept" style="margin-top: 30px;">
        <h4>👥 Community Detection</h4>
        <p>在知識圖譜中找出相關實體的社群：</p>
        <ul style="line-height: 1.9;">
          <li>使用圖譜演算法（如 Louvain）找出緊密相連的實體群組</li>
          <li>每個社群代表一個主題或概念</li>
          <li>為每個社群生成摘要，描述該社群的核心內容</li>
        </ul>
        <p style="margin-top: 15px; color: var(--text-secondary);">
          這些社群摘要就是回答全局問題的關鍵！
        </p>
      </div>

      <!-- 應用場景 -->
      <h2>📊 應用場景</h2>

      <div class="solution">
        <h4>✅ GraphRAG 擅長的任務</h4>
        <ul style="line-height: 2;">
          <li><strong>全局摘要</strong>：「這個資料集的主要主題是什麼？」</li>
          <li><strong>關聯分析</strong>：「這些事件之間有什麼關聯？」</li>
          <li><strong>趨勢分析</strong>：「這個領域的發展趨勢是什麼？」</li>
          <li><strong>欺詐檢測</strong>：識別異常模式和關聯</li>
          <li><strong>科學研究</strong>：分析文獻之間的關係</li>
        </ul>
      </div>

      <!-- 與傳統 RAG 的比較 -->
      <h2>🔄 GraphRAG vs 傳統 RAG</h2>

      <div class="section-block">
        <table>
          <thead>
            <tr>
              <th>面向</th>
              <th>傳統 RAG</th>
              <th>GraphRAG</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>知識表示</strong></td>
              <td>向量索引（扁平）</td>
              <td>知識圖譜（結構化）</td>
            </tr>
            <tr>
              <td><strong>查詢類型</strong></td>
              <td>局部問題</td>
              <td>局部 + 全局問題</td>
            </tr>
            <tr>
              <td><strong>推理能力</strong></td>
              <td>單一文檔</td>
              <td>跨文檔推理</td>
            </tr>
            <tr>
              <td><strong>計算成本</strong></td>
              <td>較低</td>
              <td>較高（需建構圖譜）</td>
            </tr>
            <tr>
              <td><strong>適用規模</strong></td>
              <td>小到中型資料集</td>
              <td>大型資料集（百萬 token）</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- 歷史意義 -->
      <h2>📜 歷史意義</h2>

      <div class="key-concept">
        <h4>🌟 GraphRAG 的貢獻</h4>
        <ul>
          <li><strong>突破局部限制</strong>：首次讓 RAG 能回答全局問題</li>
          <li><strong>知識圖譜整合</strong>：證明結構化知識的價值</li>
          <li><strong>社群摘要</strong>：創新的知識壓縮方法</li>
          <li><strong>實用性</strong>：Microsoft 已開源實作</li>
        </ul>
        <p style="margin-top: 15px;">
          GraphRAG 發表於 2024 年 4 月，是 Modular RAG 時代的代表作。
          它證明了 RAG 不僅可以「檢索」，還可以「理解結構」。
        </p>
      </div>

      <!-- 延伸閱讀 -->
      <div class="quick-links" style="margin-top: 40px;">
        <a href="04-self-rag.html" class="quick-link">← 上一篇：Self-RAG</a>
        <a href="index.html" class="quick-link">回到 RAG 總覽</a>
        <a href="07-rag-vs-long-context.html" class="quick-link">下一篇：RAG vs Long Context →</a>
      </div>

      <div class="quick-links" style="margin-top: 15px;">
        <a href="https://arxiv.org/abs/2404.16130" class="quick-link" target="_blank">📄 GraphRAG 論文 (arXiv)</a>
        <a href="https://aka.ms/graphrag" class="quick-link" target="_blank">💻 Microsoft 開源實作</a>
        <a href="https://www.microsoft.com/en-us/research/publication/from-local-to-global-a-graph-rag-approach-to-query-focused-summarization/" class="quick-link" target="_blank">🔗 Microsoft Research</a>
      </div>
    </div>
  </body>
</html>
