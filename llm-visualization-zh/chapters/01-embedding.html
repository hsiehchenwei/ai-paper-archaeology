<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬ä¸€ç« ï¼šEmbedding - å¾æ•´æ•¸åˆ°å‘é‡ | nano-gpt è¦–è¦ºåŒ–æ•™å­¸</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --hero-bg: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1419 100%);
            --gold: #ffd700;
            --silver: #c0c0c0;
            --deep-blue: #0f1419;
            --matrix-green: #00ff41;
            --purple: #9333ea;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.8;
            color: #2c3e50;
            background: #ffffff;
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--hero-bg);
            overflow: hidden;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(
                180deg,
                rgba(10, 14, 39, 0.3) 0%,
                rgba(10, 14, 39, 0.85) 60%,
                rgba(10, 14, 39, 0.95) 100%
            );
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 0 20px;
            max-width: 1000px;
        }

        .nano-gpt-badge {
            display: inline-block;
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid var(--gold);
            padding: 10px 30px;
            border-radius: 50px;
            color: var(--gold);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 30px;
            letter-spacing: 0.1em;
        }

        .hero-title {
            font-family: 'Noto Serif TC', serif;
            font-size: clamp(2.5rem, 6vw, 5rem);
            font-weight: 900;
            color: #FFFFFF;
            margin-bottom: 30px;
            text-shadow: 0 4px 30px rgba(0,0,0,0.8), 0 0 60px rgba(255, 215, 0, 0.3);
            letter-spacing: -0.02em;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-family: 'Inter', sans-serif;
            font-size: clamp(1.2rem, 2.5vw, 1.8rem);
            color: var(--gold);
            font-weight: 300;
            letter-spacing: 0.05em;
            text-shadow: 0 2px 20px rgba(0,0,0,0.6);
            margin-bottom: 20px;
        }

        .hero-meta {
            font-size: 1rem;
            color: var(--silver);
            font-weight: 400;
            text-shadow: 0 2px 10px rgba(0,0,0,0.6);
        }

        /* Story Container */
        .story-container {
            background: #ffffff;
            margin-top: -50px;
            position: relative;
            z-index: 10;
            border-radius: 30px 30px 0 0;
            padding: 80px 40px;
        }

        .content-wrapper {
            max-width: 900px;
            margin: 0 auto;
        }

        /* Breadcrumb */
        .breadcrumb {
            padding: 20px 40px;
            background: rgba(10, 14, 39, 0.05);
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: var(--gold);
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .breadcrumb a:hover {
            opacity: 0.8;
        }

        /* Typography */
        .story-lead {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.5rem;
            line-height: 2;
            color: #1a1a1a;
            margin: 40px 0;
            padding: 40px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 5px solid var(--gold);
            border-radius: 10px;
        }

        h2 {
            font-family: 'Noto Serif TC', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: #0a0e27;
            margin: 60px 0 30px 0;
            border-bottom: 3px solid var(--gold);
            padding-bottom: 15px;
        }

        h3 {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.8rem;
            color: #1a1f3a;
            margin: 40px 0 20px 0;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.9;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.1) 0%, rgba(147, 51, 234, 0.05) 100%);
            border: 2px solid var(--purple);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
        }

        .info-box-title {
            font-family: 'Inter', sans-serif;
            font-size: 1.3rem;
            color: var(--purple);
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Matrix Box */
        .matrix-box {
            background: #1a1f3a;
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .matrix-title {
            font-family: 'Inter', sans-serif;
            font-size: 1.3rem;
            color: var(--gold);
            text-align: center;
            margin-bottom: 30px;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        /* Code Block */
        .code-visualization {
            background: #1e1e1e;
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            overflow-x: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .code-visualization pre {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            line-height: 1.8;
            color: #d4d4d4;
            margin: 0;
        }

        .code-comment { color: #6a9955; }
        .code-keyword { color: #569cd6; }
        .code-string { color: #ce9178; }
        .code-number { color: #b5cea8; }

        /* Step Box */
        .step-box {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-left: 5px solid var(--gold);
        }

        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: var(--gold);
            color: #0a0e27;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            margin-right: 15px;
            font-size: 1.2rem;
        }

        .step-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.4rem;
            color: #0a0e27;
            margin-bottom: 15px;
            font-weight: 700;
        }

        /* Pull Quote */
        .pull-quote {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.8rem;
            font-style: italic;
            color: #0a0e27;
            padding: 40px;
            margin: 60px 0;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
            border-left: 5px solid var(--gold);
            border-radius: 10px;
            position: relative;
        }

        .pull-quote::before {
            content: '"';
            position: absolute;
            left: 15px;
            top: 10px;
            font-size: 4rem;
            color: var(--gold);
            opacity: 0.3;
            font-family: Georgia, serif;
        }

        /* Figure */
        figure {
            margin: 60px 0;
            text-align: center;
        }

        figure img {
            max-width: 100%;
            border-radius: 20px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
        }

        figcaption {
            margin-top: 20px;
            font-size: 1rem;
            color: #666;
            font-style: italic;
            line-height: 1.6;
        }

        /* Dimension Card */
        .dimension-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .dimension-value {
            font-size: 3rem;
            font-weight: 900;
            margin: 20px 0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        /* Comparison Grid */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .comparison-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-top: 4px solid var(--gold);
            transition: transform 0.3s ease;
        }

        .comparison-card:hover {
            transform: translateY(-5px);
        }

        .card-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.2rem;
            color: #0a0e27;
            margin-bottom: 15px;
            font-weight: 700;
        }

        /* Footer */
        .footer-quote {
            background: var(--hero-bg);
            padding: 80px 40px;
            text-align: center;
            margin-top: 100px;
        }

        .footer-quote-text {
            font-family: 'Noto Serif TC', serif;
            font-size: 2rem;
            color: var(--gold);
            max-width: 800px;
            margin: 0 auto 30px;
            line-height: 1.8;
            text-shadow: 0 2px 20px rgba(0,0,0,0.6);
        }

        .footer-quote-author {
            font-family: 'Inter', sans-serif;
            font-size: 1.2rem;
            color: var(--silver);
            font-weight: 300;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .story-container {
                padding: 40px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="breadcrumb">
        <a href="../../index.html">ğŸ  é¦–é </a>
        <span style="margin: 0 10px; color: #999;">/</span>
        <a href="../index.html">ğŸ“š LLM è¦–è¦ºåŒ–æ•™å­¸</a>
        <span style="margin: 0 10px; color: #999;">/</span>
        <span style="color: #666;">ç¬¬ä¸€ç« ï¼šEmbedding</span>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="nano-gpt-badge">nano-gpt Â· n_params = 85,584</div>
            <h1 class="hero-title">Embeddingï¼šå¾æ•´æ•¸åˆ°å‘é‡</h1>
            <p class="hero-subtitle">ç¬¬ä¸€æ¬¡ä¹Ÿæ˜¯å”¯ä¸€ä¸€æ¬¡ï¼Œæˆ‘å€‘çœ‹åˆ°æ•´æ•¸</p>
            <p class="hero-meta">ä¹‹å¾Œçš„ä¸–ç•Œï¼Œå…¨æ˜¯æµ®é»æ•¸</p>
        </div>
    </section>

    <!-- Main Content -->
    <div class="story-container">
        <div class="content-wrapper">
            
            <h2 style="border: none; margin-top: 0; text-align: center; color: var(--gold);">ğŸ—ºï¸ æœ¬ç« åœ¨æ¶æ§‹ä¸­çš„ä½ç½®</h2>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 215, 0, 0.08) 100%); border-color: var(--gold); margin: 40px 0 60px 0;">
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="display: inline-block; padding: 15px 40px; background: rgba(255, 215, 0, 0.2); border: 2px solid var(--gold); border-radius: 50px; font-size: 1.2rem; font-weight: 700; color: var(--gold);">
                        ğŸ“ ç¬¬ä¸€ç« ï¼šEmbedding
                    </div>
                </div>
                
                <figure style="margin: 30px 0;">
                    <img src="../../images/embedding_chapter_focus_20260105210902.png" alt="Embedding ç« ç¯€æ¶æ§‹ç‰¹å¯«" style="max-width: 100%; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                    <figcaption style="margin-top: 20px; font-size: 1rem; color: #666; line-height: 1.8;">
                        <strong style="color: #0a0e27;">Embedding å±¤æ¶æ§‹ç‰¹å¯«</strong><br>
                        æœ¬ç« èšç„¦æ–¼<span style="color: #c71585; font-weight: 700;"> ç²‰ç´…è‰²å€åŸŸ</span>ï¼š<br>
                        Token Embedding + Position Embedding â†’ Input Embedding
                    </figcaption>
                </figure>

                <div style="background: rgba(255, 255, 255, 0.6); padding: 25px; border-radius: 12px; margin-top: 30px;">
                    <p style="margin: 0; text-align: center; color: #2c3e50; line-height: 1.9;">
                        <strong style="color: #c71585;">ğŸŸ£ Embedding æ˜¯æ•´å€‹ LLM çš„èµ·é»</strong><br>
                        åœ¨é€™è£¡ï¼Œæˆ‘å€‘å°‡é›¢æ•£çš„ token ç´¢å¼•ï¼ˆæ•´æ•¸ï¼‰è½‰æ›æˆé€£çºŒçš„å‘é‡ï¼ˆæµ®é»æ•¸ï¼‰ï¼Œ<br>
                        ç‚ºå¾ŒçºŒçš„ Transformer å±¤è™•ç†åšæº–å‚™ã€‚
                    </p>
                </div>
            </div>
            
            <div class="story-lead">
                ã€Œæˆ‘å€‘ä¹‹å‰çœ‹åˆ° tokens å¦‚ä½•é€šéç°¡å–®çš„æŸ¥æ‰¾è¡¨æ˜ å°„æˆä¸€ä¸²æ•´æ•¸ã€‚<br>
                é€™äº›æ•´æ•¸ï¼Œä¹Ÿå°±æ˜¯ token ç´¢å¼•ï¼Œæ˜¯æ¨¡å‹ä¸­<strong>ç¬¬ä¸€æ¬¡ä¹Ÿæ˜¯å”¯ä¸€ä¸€æ¬¡å‡ºç¾æ•´æ•¸</strong>çš„åœ°æ–¹ã€‚<br>
                å¾é€™è£¡é–‹å§‹ï¼Œæˆ‘å€‘ä½¿ç”¨çš„å…¨éƒ¨éƒ½æ˜¯æµ®é»æ•¸ï¼ˆå°æ•¸ï¼‰ã€‚ã€
            </div>

            <div class="info-box">
                <div class="info-box-title">
                    <span>ğŸ’¡</span>
                    <span>æ ¸å¿ƒæ¦‚å¿µ</span>
                </div>
                <p><strong>æ•´æ•¸ â†’ æµ®é»æ•¸çš„è½‰æ›</strong></p>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li><strong>Token ç´¢å¼•ï¼ˆæ•´æ•¸ï¼‰</strong>ï¼š["C", "B", "A", "B", "B", "C"] â†’ [2, 1, 0, 1, 1, 2]</li>
                    <li><strong>Embeddingï¼ˆæµ®é»æ•¸ï¼‰</strong>ï¼šæ¯å€‹ç´¢å¼•å°æ‡‰ä¸€å€‹ 48 ç¶­çš„æµ®é»æ•¸å‘é‡</li>
                    <li><strong>ç‚ºä»€éº¼ï¼Ÿ</strong>ï¼šç¥ç¶“ç¶²çµ¡éœ€è¦é€£çºŒçš„æ•¸å€¼ç©ºé–“ä¾†é€²è¡Œæ¢¯åº¦è¨ˆç®—</li>
                </ul>
            </div>

            <h2>ğŸ¯ å®Œæ•´æµç¨‹ï¼šå¾ Token åˆ° Input Embedding</h2>

            <p>è®“æˆ‘å€‘ä»¥ç¬¬ 4 å€‹ tokenï¼ˆç´¢å¼• 3ï¼Œä½ç½®å¾ 0 é–‹å§‹è¨ˆæ•¸ï¼‰ç‚ºä¾‹ï¼Œçœ‹çœ‹å®ƒå¦‚ä½•ç”Ÿæˆ input embedding çš„ç¬¬ 4 åˆ—å‘é‡ã€‚</p>

            <div class="dimension-card">
                <p style="margin: 0; font-size: 1.2rem;">nano-gpt çš„ç¶­åº¦è¨­å®š</p>
                <div class="dimension-value">C = 48</div>
                <p style="margin: 0;">æ¯å€‹å‘é‡çš„é•·åº¦ï¼ˆchannel/feature/dimension/embedding sizeï¼‰</p>
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 1ï¼šToken Embedding æŸ¥æ‰¾</h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">1</span>
                    <span class="step-title">ä½¿ç”¨ Token ç´¢å¼•æŸ¥æ‰¾å‘é‡</span>
                </div>
                <p>æˆ‘å€‘ä½¿ç”¨ token ç´¢å¼•ï¼ˆåœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒB = 1ï¼‰ä¾†é¸æ“‡å·¦é‚Š <strong>token embedding çŸ©é™£</strong>çš„ç¬¬ 2 åˆ—ã€‚</p>
                <p style="color: #666; font-size: 0.95rem;">âš ï¸ æ³¨æ„ï¼šæˆ‘å€‘ä½¿ç”¨ 0-based ç´¢å¼•ï¼Œæ‰€ä»¥ç¬¬ä¸€åˆ—æ˜¯ç´¢å¼• 0</p>
            </div>

            <div class="matrix-box">
                <div class="matrix-title">Token Embedding æŸ¥æ‰¾éç¨‹</div>
                <div class="code-visualization">
                    <pre><span class="code-comment"># Token Embedding Matrix: [Vocab_Size Ã— C] = [3 Ã— 48]</span>

Token    Index    é¸æ“‡å“ªä¸€åˆ—
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  A        0      ç¬¬ 1 åˆ—ï¼ˆç´¢å¼• 0ï¼‰
  <span class="code-keyword">B</span>        <span class="code-number">1</span>      <span class="code-keyword">ç¬¬ 2 åˆ—ï¼ˆç´¢å¼• 1ï¼‰</span> â† æˆ‘å€‘è¦çš„ï¼
  C        2      ç¬¬ 3 åˆ—ï¼ˆç´¢å¼• 2ï¼‰

<span class="code-comment"># çµæœï¼šå¾—åˆ°ä¸€å€‹é•·åº¦ç‚º C = 48 çš„åˆ—å‘é‡</span>
Token Embedding = <span class="code-keyword">[ç¬¬ 2 åˆ—çš„ 48 å€‹æµ®é»æ•¸]</span></pre>
                </div>
            </div>

            <figure>
                <img src="../../images/nanogpt_token_lookup_20260105204504.png" alt="Token Index æŸ¥æ‰¾éç¨‹">
                <figcaption>
                    è¦–è¦ºåŒ–ï¼šä½¿ç”¨ Token B (ç´¢å¼•=1) å¾ Token Embedding çŸ©é™£ä¸­é¸æ“‡ç¬¬ 2 åˆ—
                </figcaption>
            </figure>

            <div class="pull-quote">
                é€™å€‹éç¨‹ç”¢ç”Ÿä¸€å€‹å¤§å°ç‚º C = 48 çš„åˆ—å‘é‡ï¼Œ<br>
                æˆ‘å€‘ç¨±ä¹‹ç‚º <strong>token embedding</strong>ã€‚
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 2ï¼šPosition Embedding æŸ¥æ‰¾</h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">2</span>
                    <span class="step-title">æ ¹æ“šä½ç½®é¸æ“‡å‘é‡</span>
                </div>
                <p>å› ç‚ºæˆ‘å€‘æ­£åœ¨è™•ç†ç¬¬ 4 å€‹ä½ç½®çš„ token Bï¼ˆt = 3ï¼Œå¾ 0 é–‹å§‹è¨ˆæ•¸ï¼‰ï¼Œ<br>
                æˆ‘å€‘å°‡å– <strong>position embedding çŸ©é™£</strong>çš„ç¬¬ 4 åˆ—ã€‚</p>
            </div>

            <div class="matrix-box">
                <div class="matrix-title">Position Embedding æŸ¥æ‰¾éç¨‹</div>
                <div class="code-visualization">
                    <pre><span class="code-comment"># Position Embedding Matrix: [Max_Seq_Length Ã— C] = [6 Ã— 48]</span>

ä½ç½®     é¸æ“‡å“ªä¸€åˆ—
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  0      ç¬¬ 1 åˆ—ï¼ˆç´¢å¼• 0ï¼‰
  1      ç¬¬ 2 åˆ—ï¼ˆç´¢å¼• 1ï¼‰
  2      ç¬¬ 3 åˆ—ï¼ˆç´¢å¼• 2ï¼‰
  <span class="code-keyword">3</span>      <span class="code-keyword">ç¬¬ 4 åˆ—ï¼ˆç´¢å¼• 3ï¼‰</span> â† æˆ‘å€‘è¦çš„ï¼
  4      ç¬¬ 5 åˆ—ï¼ˆç´¢å¼• 4ï¼‰
  5      ç¬¬ 6 åˆ—ï¼ˆç´¢å¼• 5ï¼‰

<span class="code-comment"># çµæœï¼šä¹Ÿæ˜¯ä¸€å€‹é•·åº¦ç‚º C = 48 çš„åˆ—å‘é‡</span>
Position Embedding = <span class="code-keyword">[ç¬¬ 4 åˆ—çš„ 48 å€‹æµ®é»æ•¸]</span></pre>
                </div>
            </div>

            <div class="pull-quote">
                é€™åŒæ¨£ç”¢ç”Ÿä¸€å€‹å¤§å°ç‚º C = 48 çš„åˆ—å‘é‡ï¼Œ<br>
                æˆ‘å€‘ç¨±ä¹‹ç‚º <strong>position embedding</strong>ã€‚
            </div>

            <div class="info-box">
                <div class="info-box-title">
                    <span>ğŸ”µ</span>
                    <span>å­¸ç¿’åƒæ•¸ï¼ˆLearned Parametersï¼‰</span>
                </div>
                <p>æ³¨æ„ï¼Œé€™å…©å€‹ embedding çŸ©é™£ï¼ˆposition å’Œ tokenï¼‰éƒ½æ˜¯åœ¨<strong>è¨“ç·´æœŸé–“å­¸ç¿’</strong>çš„ã€‚</p>
                <p>ï¼ˆåœ¨è¦–è¦ºåŒ–ä¸­ç”¨è—è‰²è¡¨ç¤ºå®ƒå€‘æ˜¯å¯å­¸ç¿’çš„åƒæ•¸ï¼‰</p>
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 3ï¼šå‘é‡ç›¸åŠ </h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">3</span>
                    <span class="step-title">å°‡å…©å€‹å‘é‡ç›¸åŠ </span>
                </div>
                <p>ç¾åœ¨æˆ‘å€‘æœ‰äº†é€™å…©å€‹åˆ—å‘é‡ï¼Œæˆ‘å€‘åªéœ€è¦å°‡å®ƒå€‘<strong>ç›¸åŠ </strong>ï¼Œ<br>
                å°±èƒ½ç”¢ç”Ÿå¦ä¸€å€‹å¤§å°ç‚º C = 48 çš„åˆ—å‘é‡ã€‚</p>
            </div>

            <div class="code-visualization">
                <pre><span class="code-comment"># å‘é‡ç›¸åŠ ï¼ˆé€å…ƒç´ ç›¸åŠ ï¼‰</span>

Token Embedding      <span class="code-keyword">+</span>    Position Embedding    <span class="code-keyword">=</span>    Input Embedding
[48 å€‹æµ®é»æ•¸]        <span class="code-keyword">+</span>    [48 å€‹æµ®é»æ•¸]         <span class="code-keyword">=</span>    [48 å€‹æµ®é»æ•¸]

<span class="code-comment"># èˆ‰ä¾‹ï¼ˆåªé¡¯ç¤ºå‰ 5 å€‹ç¶­åº¦ï¼‰ï¼š</span>
[<span class="code-number">0.234</span>, <span class="code-number">-0.512</span>, <span class="code-number">0.823</span>, ...]  <span class="code-keyword">+</span>
[<span class="code-number">0.100</span>, <span class="code-number">0.050</span>, <span class="code-number">-0.023</span>, ...]  <span class="code-keyword">=</span>
[<span class="code-number">0.334</span>, <span class="code-number">-0.462</span>, <span class="code-number">0.800</span>, ...]</pre>
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 4ï¼šå°æ‰€æœ‰ Tokens é‡è¤‡æ­¤éç¨‹</h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">4</span>
                    <span class="step-title">ç”Ÿæˆå®Œæ•´çš„ Input Embedding çŸ©é™£</span>
                </div>
                <p>æˆ‘å€‘å°è¼¸å…¥åºåˆ—ä¸­çš„æ‰€æœ‰ tokens åŸ·è¡Œç›¸åŒçš„éç¨‹ï¼Œ<br>
                å‰µå»ºä¸€çµ„æ—¢åŒ…å« token å€¼åˆåŒ…å«ä½ç½®è³‡è¨Šçš„å‘é‡ã€‚</p>
            </div>

            <div class="matrix-box">
                <div class="matrix-title">å®Œæ•´çš„ Input Embedding çŸ©é™£</div>
                <div class="code-visualization">
                    <pre><span class="code-comment"># è¼¸å…¥åºåˆ—ï¼šC B A B B C (6 å€‹ tokens)</span>

Position   Token   Token_Emb   +   Position_Emb   =   Input_Emb
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   0         C      [48ç¶­]     +     [48ç¶­]        =    [48ç¶­]
   1         B      [48ç¶­]     +     [48ç¶­]        =    [48ç¶­]
   2         A      [48ç¶­]     +     [48ç¶­]        =    [48ç¶­]
   3         B      [48ç¶­]     +     [48ç¶­]        =    [48ç¶­]  â† æˆ‘å€‘å‰›å‰›çš„ä¾‹å­
   4         B      [48ç¶­]     +     [48ç¶­]        =    [48ç¶­]
   5         C      [48ç¶­]     +     [48ç¶­]        =    [48ç¶­]

<span class="code-comment"># æœ€çµ‚çµæœï¼šInput Embedding Matrix</span>
<span class="code-comment"># å½¢ç‹€ï¼š[T Ã— C] = [6 Ã— 48]</span></pre>
                </div>
            </div>

            <h2>ğŸ¯ çŸ©é™£ç¶­åº¦çš„å«ç¾©</h2>

            <p>å°è¼¸å…¥åºåˆ—ä¸­çš„æ‰€æœ‰ tokens åŸ·è¡Œé€™å€‹éç¨‹å¾Œï¼Œæœƒç”¢ç”Ÿä¸€å€‹å¤§å°ç‚º <strong>T Ã— C</strong> çš„çŸ©é™£ã€‚</p>

            <div class="comparison-grid">
                <div class="comparison-card">
                    <div class="card-title">ğŸ“Š T (Time)</div>
                    <p><strong>T = 6</strong></p>
                    <p>åºåˆ—é•·åº¦ï¼ˆæœ‰å¤šå°‘å€‹ tokensï¼‰</p>
                    <p style="color: #666; font-size: 0.9rem;">ä½ å¯ä»¥æŠŠåºåˆ—ä¸­å¾Œé¢çš„ tokens æƒ³åƒæˆã€Œæ™‚é–“ä¸Šè¼ƒæ™šã€</p>
                </div>

                <div class="comparison-card">
                    <div class="card-title">ğŸ“Š C (Channel)</div>
                    <p><strong>C = 48</strong></p>
                    <p>å‘é‡é•·åº¦ï¼ˆæ¯å€‹ token çš„ç¶­åº¦ï¼‰</p>
                    <p style="color: #666; font-size: 0.9rem;">ä¹Ÿç¨±ç‚ºã€Œfeatureã€ã€ã€Œdimensionã€æˆ–ã€Œembedding sizeã€</p>
                </div>

                <div class="comparison-card">
                    <div class="card-title">ğŸ›ï¸ è¶…åƒæ•¸</div>
                    <p><strong>C æ˜¯å¯èª¿çš„</strong></p>
                    <p>æ¨¡å‹è¨­è¨ˆè€…é¸æ“‡çš„åƒæ•¸</p>
                    <p style="color: #666; font-size: 0.9rem;">åœ¨æ¨¡å‹å¤§å°å’Œæ€§èƒ½ä¹‹é–“åšæ¬Šè¡¡</p>
                </div>
            </div>

            <div class="pull-quote">
                é€™å€‹çŸ©é™£ï¼Œæˆ‘å€‘ç¨±ä¹‹ç‚º <strong>input embedding</strong>ï¼Œ<br>
                ç¾åœ¨å·²ç¶“æº–å‚™å¥½å‚³éåˆ°æ¨¡å‹çš„ä¸‹ä¸€å±¤äº†ã€‚<br><br>
                é€™å€‹ç”± T å€‹åˆ—å‘é‡ï¼ˆæ¯å€‹é•·åº¦ç‚º Cï¼‰çµ„æˆçš„é›†åˆï¼Œ<br>
                å°‡æˆç‚ºè²«ç©¿æ•´å€‹æ•™å­¸çš„ç†Ÿæ‚‰æ™¯è±¡ã€‚
            </div>

            <h2>ğŸ’¡ é—œéµç†è§£</h2>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%); border-color: var(--gold);">
                <div class="info-box-title" style="color: var(--gold);">
                    <span>ğŸ”‘</span>
                    <span>é‡è¦æ¦‚å¿µç¸½çµ</span>
                </div>
                <ol style="margin-left: 20px; line-height: 2;">
                    <li><strong>æ•´æ•¸å‡ºç¾å”¯ä¸€ä¸€æ¬¡</strong>ï¼šToken ç´¢å¼•æ˜¯æ•´æ•¸ï¼Œä¹‹å¾Œå…¨æ˜¯æµ®é»æ•¸</li>
                    <li><strong>å…©å€‹ Embedding çŸ©é™£</strong>ï¼šToken Embedding å’Œ Position Embedding éƒ½æ˜¯è¨“ç·´å­¸ç¿’å¾—åˆ°çš„</li>
                    <li><strong>ç°¡å–®ç›¸åŠ </strong>ï¼šä¸æ˜¯æ‹¼æ¥ï¼Œæ˜¯é€å…ƒç´ ç›¸åŠ </li>
                    <li><strong>ä¿ç•™å…©ç¨®è³‡è¨Š</strong>ï¼šæ—¢çŸ¥é“ã€Œæ˜¯ä»€éº¼å­—ã€ï¼ˆtokenï¼‰ï¼Œä¹ŸçŸ¥é“ã€Œåœ¨å“ªå€‹ä½ç½®ã€ï¼ˆpositionï¼‰</li>
                    <li><strong>çµ±ä¸€ç¶­åº¦</strong>ï¼šæ‰€æœ‰å‘é‡éƒ½æ˜¯ C ç¶­ï¼Œæ–¹ä¾¿å¾ŒçºŒè¨ˆç®—</li>
                </ol>
            </div>

            <h2>ğŸ“ nano-gpt çš„å…·é«”æ•¸å€¼</h2>

            <div class="matrix-box">
                <div class="code-visualization">
                    <pre><span class="code-comment"># nano-gpt æ¨¡å‹é…ç½®</span>

ç¸½åƒæ•¸æ•¸é‡ï¼š<span class="code-number">85,584</span>

<span class="code-comment"># Embedding ç›¸é—œåƒæ•¸</span>
è©å½™è¡¨å¤§å°ï¼ˆVocab Sizeï¼‰ï¼š<span class="code-number">3</span> ç¨® tokens (A, B, C)
åºåˆ—é•·åº¦ï¼ˆTï¼‰ï¼š<span class="code-number">6</span> å€‹ tokens
å‘é‡ç¶­åº¦ï¼ˆCï¼‰ï¼š<span class="code-number">48</span>

<span class="code-comment"># Embedding çŸ©é™£å¤§å°</span>
Token Embeddingï¼š  [<span class="code-number">3</span> Ã— <span class="code-number">48</span>] = <span class="code-number">144</span> å€‹åƒæ•¸
Position Embeddingï¼š[<span class="code-number">6</span> Ã— <span class="code-number">48</span>] = <span class="code-number">288</span> å€‹åƒæ•¸

<span class="code-comment"># Input Embeddingï¼ˆä¸æ˜¯åƒæ•¸ï¼Œæ˜¯è¨ˆç®—çµæœï¼‰</span>
Input Embeddingï¼š  [<span class="code-number">6</span> Ã— <span class="code-number">48</span>] = æ¯æ¬¡æ¨ç†æ™‚å‹•æ…‹è¨ˆç®—</pre>
                </div>
            </div>

            <h2>ğŸ” äº’å‹•æ¢ç´¢</h2>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(0, 255, 65, 0.05) 100%); border-color: var(--matrix-green);">
                <div class="info-box-title" style="color: var(--matrix-green);">
                    <span>ğŸ‘†</span>
                    <span>äº’å‹•æç¤ºï¼ˆåŸç¶²ç«™åŠŸèƒ½ï¼‰</span>
                </div>
                <p>åœ¨åŸå§‹çš„ <a href="https://bbycroft.net/llm" target="_blank" style="color: var(--matrix-green);">bbycroft.net/llm</a> ç¶²ç«™ä¸Šï¼Œä½ å¯ä»¥ï¼š</p>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li>å°‡æ»‘é¼ æ‡¸åœåœ¨ input embedding çŸ©é™£çš„å–®å€‹æ ¼å­ä¸Š</li>
                    <li>æŸ¥çœ‹è©²æ ¼å­çš„è¨ˆç®—éç¨‹å’Œä¾†æº</li>
                    <li>çœ‹åˆ° token embedding å’Œ position embedding å¦‚ä½•ç›¸åŠ </li>
                </ul>
            </div>

            <h2>ğŸ¬ ä¸‹ä¸€æ­¥</h2>

            <p>ç¾åœ¨æˆ‘å€‘æœ‰äº† Input Embedding çŸ©é™£ [6 Ã— 48]ï¼Œæ¥ä¸‹ä¾†ï¼š</p>
            
            <div class="comparison-grid">
                <div class="comparison-card" style="border-top-color: var(--purple);">
                    <div class="card-title">â†’ ç¬¬äºŒç« </div>
                    <p><strong>Self-Attention</strong></p>
                    <p>é€™å€‹çŸ©é™£å°‡é€²å…¥ Transformer çš„æ ¸å¿ƒæ©Ÿåˆ¶</p>
                </div>

                <div class="comparison-card" style="border-top-color: var(--purple);">
                    <div class="card-title">â†’ ç¬¬ä¸‰ç« </div>
                    <p><strong>Multi-Head Attention</strong></p>
                    <p>å¹³è¡Œè™•ç†å¤šå€‹æ³¨æ„åŠ›è¦–è§’</p>
                </div>

                <div class="comparison-card" style="border-top-color: var(--purple);">
                    <div class="card-title">â†’ ç¬¬å››ç« </div>
                    <p><strong>Feed Forward Network</strong></p>
                    <p>æ¯å€‹ token çš„ç¨ç«‹è™•ç†</p>
                </div>
            </div>

            <h2 style="margin-top: 80px;">ğŸ—ºï¸ å›é¡§æ¶æ§‹å…¨è²Œ</h2>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%); border-color: var(--gold);">
                <div class="info-box-title" style="color: var(--gold);">
                    <span>ğŸ“</span>
                    <span>Embedding åœ¨å®Œæ•´æ¶æ§‹ä¸­çš„ä½ç½®</span>
                </div>
                <figure style="margin: 20px 0 0 0;">
                    <img src="../../images/llm_architecture_full_20260105210724.png" alt="LLM å®Œæ•´æ¶æ§‹" style="max-width: 100%; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                    <figcaption style="margin-top: 20px; font-size: 1rem; color: #666; line-height: 1.8;">
                        å®Œæ•´æ¶æ§‹åœ–ï¼šæˆ‘å€‘å‰›å‰›å®Œæˆäº†æœ€ä¸Šæ–¹çš„<span style="color: #c71585; font-weight: 700;"> Embedding å±¤</span>ï¼Œ<br>
                        æ¥ä¸‹ä¾†å°‡é€²å…¥ä¸­é–“çš„ <span style="color: #daa520; font-weight: 700;">Transformer Block</span>
                    </figcaption>
                </figure>
                <div style="text-align: center; margin-top: 30px;">
                    <a href="../index.html" style="display: inline-block; padding: 15px 40px; background: var(--gold); color: #0a0e27; text-decoration: none; border-radius: 50px; font-weight: 700; transition: transform 0.3s ease;">
                        â† è¿”å›æ•™å­¸é¦–é æŸ¥çœ‹æ‰€æœ‰ç« ç¯€
                    </a>
                </div>
            </div>

        </div>
    </div>

    <!-- Chapter Navigation -->
    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 60px 40px; margin-top: 80px;">
        <div style="max-width: 900px; margin: 0 auto;">
            
            <h2 style="font-family: 'Noto Serif TC', serif; font-size: 2rem; color: #0a0e27; text-align: center; margin-bottom: 40px; border: none; padding: 0;">
                ğŸ¯ æœ¬ç« é‡é»å›é¡§
            </h2>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 50px;">
                <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ“</div>
                    <div style="font-weight: 700; color: #0a0e27; margin-bottom: 8px;">Token â†’ Integer</div>
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.6;">é€é Lookup Table å°‡æ–‡å­—è½‰æ›ç‚ºæ•´æ•¸ç´¢å¼•</div>
                </div>

                <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ”¢</div>
                    <div style="font-weight: 700; color: #0a0e27; margin-bottom: 8px;">Token Embedding</div>
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.6;">å°‡æ•´æ•¸æ˜ å°„åˆ° 48 ç¶­å‘é‡ç©ºé–“</div>
                </div>

                <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ“</div>
                    <div style="font-weight: 700; color: #0a0e27; margin-bottom: 8px;">Position Embedding</div>
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.6;">åŠ å…¥ä½ç½®è³‡è¨Šï¼Œè®“æ¨¡å‹ç†è§£é †åº</div>
                </div>

                <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 2rem; margin-bottom: 10px;">â•</div>
                    <div style="font-weight: 700; color: #0a0e27; margin-bottom: 8px;">Input Embedding</div>
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.6;">Token + Position = [6 Ã— 48] çŸ©é™£</div>
                </div>
            </div>

            <div style="border-top: 2px solid #dee2e6; padding-top: 40px; margin-top: 40px;">
                <h3 style="font-family: 'Noto Serif TC', serif; font-size: 1.5rem; color: #0a0e27; text-align: center; margin-bottom: 30px;">
                    ğŸ“š ç« ç¯€å°èˆª
                </h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                    <a href="../index.html" style="display: flex; align-items: center; gap: 15px; padding: 25px; background: white; border-radius: 15px; text-decoration: none; color: #0a0e27; transition: transform 0.3s ease, box-shadow 0.3s ease; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                        <div style="font-size: 2rem;">â¬…ï¸</div>
                        <div>
                            <div style="font-size: 0.85rem; color: #666; margin-bottom: 5px;">è¿”å›</div>
                            <div style="font-weight: 700; font-size: 1.1rem;">æ•™å­¸é¦–é </div>
                        </div>
                    </a>

                    <a href="02-layer-normalization.html" style="display: flex; align-items: center; justify-content: flex-end; gap: 15px; padding: 25px; background: linear-gradient(135deg, #ffd700 0%, #f0c000 100%); border-radius: 15px; text-decoration: none; color: #0a0e27; transition: transform 0.3s ease, box-shadow 0.3s ease; box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);">
                        <div style="text-align: right;">
                            <div style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 5px;">ä¸‹ä¸€ç« </div>
                            <div style="font-weight: 700; font-size: 1.1rem;">Layer Normalization</div>
                            <div style="font-size: 0.9rem; opacity: 0.9; margin-top: 5px;">æ­£è¦åŒ–è¼¸å…¥ï¼Œæº–å‚™é€²å…¥ Transformer</div>
                        </div>
                        <div style="font-size: 2rem;">â¡ï¸</div>
                    </a>
                </div>

                <div style="text-align: center; padding: 20px; background: rgba(255, 215, 0, 0.1); border-radius: 12px; border: 2px dashed var(--gold);">
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.8;">
                        <strong style="color: #0a0e27;">ğŸ’¡ ä¸‹ä¸€æ­¥å­¸ä»€éº¼ï¼Ÿ</strong><br>
                        Embedding ç”¢ç”Ÿäº† [6 Ã— 48] çŸ©é™£ï¼Œä½†åœ¨é€²å…¥ Transformer Block ä¹‹å‰ï¼Œ<br>
                        éœ€è¦å…ˆç¶“é <strong style="color: var(--gold);">Layer Normalization</strong> ä¾†ç©©å®šæ•¸å€¼ç¯„åœã€‚<br>
                        é€™æ˜¯æ·±åº¦ç¥ç¶“ç¶²çµ¡è¨“ç·´çš„é—œéµæŠ€è¡“ï¼
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Footer Quote -->
    <div class="footer-quote">
        <p class="footer-quote-text">
            ã€Œå¾æ•´æ•¸åˆ°æµ®é»æ•¸ï¼Œå¾ token åˆ°å‘é‡ï¼Œ<br>
            é€™æ˜¯ç¥ç¶“ç¶²çµ¡ç†è§£èªè¨€çš„ç¬¬ä¸€æ­¥ã€‚ã€
        </p>
        <p class="footer-quote-author">â€” LLM è¦–è¦ºåŒ–æ•™å­¸ Â· 2026</p>
    </div>

</body>
</html>

