<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬å…­ç« ï¼šFeed-Forward Network (MLP) | nano-gpt è¦–è¦ºåŒ–æ•™å­¸</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --hero-bg: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1419 100%);
            --gold: #ffd700;
            --silver: #c0c0c0;
            --deep-blue: #0f1419;
            --matrix-green: #00ff41;
            --purple: #9333ea;
            --mlp-blue: #87ceeb;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.8;
            color: #2c3e50;
            background: #ffffff;
        }

        .hero-section {
            position: relative;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--hero-bg);
            overflow: hidden;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(
                180deg,
                rgba(10, 14, 39, 0.3) 0%,
                rgba(10, 14, 39, 0.85) 60%,
                rgba(10, 14, 39, 0.95) 100%
            );
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 0 20px;
            max-width: 1000px;
        }

        .nano-gpt-badge {
            display: inline-block;
            background: rgba(135, 206, 235, 0.2);
            border: 2px solid var(--mlp-blue);
            padding: 10px 30px;
            border-radius: 50px;
            color: var(--mlp-blue);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 30px;
            letter-spacing: 0.1em;
        }

        .hero-title {
            font-family: 'Noto Serif TC', serif;
            font-size: clamp(2.5rem, 6vw, 5rem);
            font-weight: 900;
            color: #FFFFFF;
            margin-bottom: 30px;
            text-shadow: 0 4px 30px rgba(0,0,0,0.8), 0 0 60px rgba(135, 206, 235, 0.3);
            letter-spacing: -0.02em;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-family: 'Inter', sans-serif;
            font-size: clamp(1.2rem, 2.5vw, 1.8rem);
            color: var(--mlp-blue);
            font-weight: 300;
            letter-spacing: 0.05em;
            text-shadow: 0 2px 20px rgba(0,0,0,0.6);
            margin-bottom: 20px;
        }

        .story-container {
            background: #ffffff;
            margin-top: -50px;
            position: relative;
            z-index: 10;
            border-radius: 30px 30px 0 0;
            padding: 80px 40px;
        }

        .content-wrapper {
            max-width: 900px;
            margin: 0 auto;
        }

        .breadcrumb {
            padding: 20px 40px;
            background: rgba(10, 14, 39, 0.05);
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: var(--mlp-blue);
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .breadcrumb a:hover {
            opacity: 0.8;
        }

        .story-lead {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.5rem;
            line-height: 2;
            color: #1a1a1a;
            margin: 40px 0;
            padding: 40px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 5px solid var(--mlp-blue);
            border-radius: 10px;
        }

        h2 {
            font-family: 'Noto Serif TC', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: #0a0e27;
            margin: 60px 0 30px 0;
            border-bottom: 3px solid var(--mlp-blue);
            padding-bottom: 15px;
        }

        h3 {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.8rem;
            color: #1a1f3a;
            margin: 40px 0 20px 0;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.9;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .info-box {
            background: linear-gradient(135deg, rgba(135, 206, 235, 0.1) 0%, rgba(135, 206, 235, 0.05) 100%);
            border: 2px solid var(--mlp-blue);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
        }

        .info-box-title {
            font-family: 'Inter', sans-serif;
            font-size: 1.3rem;
            color: var(--mlp-blue);
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .matrix-box {
            background: #1a1f3a;
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
            border: 2px solid rgba(135, 206, 235, 0.2);
        }

        .matrix-title {
            font-family: 'Inter', sans-serif;
            font-size: 1.3rem;
            color: var(--mlp-blue);
            text-align: center;
            margin-bottom: 30px;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .code-visualization {
            background: #1e1e1e;
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            overflow-x: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .code-visualization pre {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            line-height: 1.8;
            color: #d4d4d4;
            margin: 0;
        }

        .code-comment { color: #6a9955; }
        .code-keyword { color: #569cd6; }
        .code-string { color: #ce9178; }
        .code-number { color: #b5cea8; }

        .step-box {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-left: 5px solid var(--mlp-blue);
        }

        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: var(--mlp-blue);
            color: #0a0e27;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            margin-right: 15px;
            font-size: 1.2rem;
        }

        .step-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.4rem;
            color: #0a0e27;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .pull-quote {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.8rem;
            font-style: italic;
            color: #0a0e27;
            padding: 40px;
            margin: 60px 0;
            background: linear-gradient(135deg, rgba(135, 206, 235, 0.1) 0%, rgba(135, 206, 235, 0.05) 100%);
            border-left: 5px solid var(--mlp-blue);
            border-radius: 10px;
            position: relative;
        }

        .pull-quote::before {
            content: '"';
            position: absolute;
            left: 15px;
            top: 10px;
            font-size: 4rem;
            color: var(--mlp-blue);
            opacity: 0.3;
            font-family: Georgia, serif;
        }

        figure {
            margin: 60px 0;
            text-align: center;
        }

        figure img {
            max-width: 100%;
            border-radius: 20px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
        }

        figcaption {
            margin-top: 20px;
            font-size: 1rem;
            color: #666;
            font-style: italic;
            line-height: 1.6;
        }

        .formula-box {
            background: linear-gradient(135deg, #e1f5fe 0%, #f1f8fb 100%);
            border: 2px solid var(--mlp-blue);
            border-radius: 15px;
            padding: 40px;
            margin: 40px 0;
            text-align: center;
        }

        .formula-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.3rem;
            color: #0a0e27;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .formula {
            font-family: 'Courier New', monospace;
            font-size: 1.8rem;
            color: #0a0e27;
            margin: 20px 0;
            font-weight: 600;
        }

        .formula-desc {
            font-size: 1rem;
            color: #666;
            margin-top: 20px;
            line-height: 1.8;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .comparison-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-top: 4px solid var(--mlp-blue);
            transition: transform 0.3s ease;
        }

        .comparison-card:hover {
            transform: translateY(-5px);
        }

        .card-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.2rem;
            color: #0a0e27;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .footer-quote {
            background: var(--hero-bg);
            padding: 80px 40px;
            text-align: center;
            margin-top: 100px;
        }

        .footer-quote-text {
            font-family: 'Noto Serif TC', serif;
            font-size: 2rem;
            color: var(--mlp-blue);
            max-width: 800px;
            margin: 0 auto 30px;
            line-height: 1.8;
            text-shadow: 0 2px 20px rgba(0,0,0,0.6);
        }

        .footer-quote-author {
            font-family: 'Inter', sans-serif;
            font-size: 1.2rem;
            color: var(--silver);
            font-weight: 300;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .story-container {
                padding: 40px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="breadcrumb">
        <a href="../../index.html">ğŸ  é¦–é </a>
        <span style="margin: 0 10px; color: #999;">/</span>
        <a href="../index.html">ğŸ“š LLM è¦–è¦ºåŒ–æ•™å­¸</a>
        <span style="margin: 0 10px; color: #999;">/</span>
        <span style="color: #666;">ç¬¬å…­ç« ï¼šFeed-Forward Network (MLP)</span>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="nano-gpt-badge">nano-gpt Â· Transformer Block ç¬¬äºŒçµ„ä»¶</div>
            <h1 class="hero-title">Feed-Forward Network<br>(MLP)</h1>
            <p class="hero-subtitle">æ“´å±•ã€æ¿€æ´»ã€å£“ç¸®ï¼šç°¡å–®å»å¼·å¤§çš„ç¥ç¶“ç¶²çµ¡</p>
            <p style="font-size: 1rem; color: var(--silver); margin-top: 20px;">
                Linear â†’ GELU â†’ Linear
            </p>
        </div>
    </section>

    <!-- Main Content -->
    <div class="story-container">
        <div class="content-wrapper">
            
            <h2 style="border: none; margin-top: 0; text-align: center; color: var(--mlp-blue);">ğŸ—ºï¸ æœ¬ç« åœ¨æ¶æ§‹ä¸­çš„ä½ç½®</h2>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(135, 206, 235, 0.15) 0%, rgba(135, 206, 235, 0.08) 100%); border-color: var(--mlp-blue); margin: 40px 0 60px 0;">
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="display: inline-block; padding: 15px 40px; background: rgba(135, 206, 235, 0.2); border: 2px solid var(--mlp-blue); border-radius: 50px; font-size: 1.2rem; font-weight: 700; color: var(--mlp-blue);">
                        ğŸ“ ç¬¬å…­ç« ï¼šFeed-Forward Network (MLP)
                    </div>
                </div>
                
                <figure style="margin: 30px 0;">
                    <img src="../../images/mlp_chapter_focus_20260105222426.png" alt="MLP ç« ç¯€æ¶æ§‹ç‰¹å¯«" style="max-width: 100%; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                    <figcaption style="margin-top: 20px; font-size: 1rem; color: #666; line-height: 1.8;">
                        <strong style="color: #0a0e27;">MLP ä½ç½®</strong><br>
                        æœ¬ç« èšç„¦æ–¼<span style="color: #87ceeb; font-weight: 700;"> æ·ºè—è‰²å€åŸŸ</span>ï¼š<br>
                        Transformer Block çš„ç¬¬äºŒå€‹ä¸»è¦çµ„ä»¶
                    </figcaption>
                </figure>

                <div style="background: rgba(255, 255, 255, 0.6); padding: 25px; border-radius: 12px; margin-top: 30px;">
                    <p style="margin: 0; text-align: center; color: #2c3e50; line-height: 1.9;">
                        <strong style="color: #87ceeb;">ğŸ”µ MLP æ˜¯ Transformer çš„ã€Œæ·±åº¦è™•ç†ã€éšæ®µ</strong><br>
                        Self-Attention è®“ tokens äº’ç›¸æºé€šï¼Œ<br>
                        MLP å‰‡å°æ¯å€‹ token <strong>ç¨ç«‹é€²è¡Œ</strong>æ·±åº¦è½‰æ›ã€‚
                    </p>
                </div>
            </div>
            
            <div class="story-lead">
                Transformer Block çš„å¾ŒåŠéƒ¨åˆ†ï¼Œåœ¨ Self-Attention ä¹‹å¾Œï¼Œæ˜¯ <strong>MLP</strong>ï¼ˆMulti-Layer Perceptronï¼Œå¤šå±¤æ„ŸçŸ¥æ©Ÿï¼‰ã€‚<br><br>
                åå­—è½èµ·ä¾†å¾ˆè¤‡é›œï¼Œä½†é€™è£¡å®ƒåªæ˜¯ä¸€å€‹<strong>ç°¡å–®çš„å…©å±¤ç¥ç¶“ç¶²çµ¡</strong>ã€‚
            </div>

            <div class="info-box">
                <div class="info-box-title">
                    <span>ğŸ¯</span>
                    <span>MLP çš„è§’è‰²</span>
                </div>
                <p><strong>Self-Attention</strong> è®“ä¸åŒä½ç½®çš„ tokens äº’ç›¸æºé€šã€‚</p>
                <p><strong>MLP (Feed-Forward Network)</strong> å‰‡å°æ¯å€‹ token <strong>ç¨ç«‹</strong>é€²è¡Œéç·šæ€§è½‰æ›ï¼Œå¢å¼·æ¨¡å‹çš„è¡¨å¾µèƒ½åŠ›ã€‚</p>
                <p style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.8); border-radius: 10px;">
                    <strong>é¡æ¯”ï¼š</strong><br>
                    â€¢ Self-Attention åƒæ˜¯ã€Œåœ˜éšŠæœƒè­°ã€ï¼šå¤§å®¶äº¤æµè³‡è¨Š<br>
                    â€¢ MLP åƒæ˜¯ã€Œå€‹äººæ·±åº¦æ€è€ƒã€ï¼šæ¯å€‹äººç¨ç«‹è™•ç†æ¥æ”¶åˆ°çš„è³‡è¨Š
                </p>
            </div>

            <h2>ğŸ”„ MLP çš„å®Œæ•´æµç¨‹</h2>

            <div class="pull-quote">
                èˆ‡ Self-Attention ä¸€æ¨£ï¼Œ<br>
                æˆ‘å€‘åœ¨å‘é‡é€²å…¥ MLP ä¹‹å‰ï¼Œ<br>
                å…ˆé€²è¡Œ<strong>Layer Normalization</strong>ã€‚
            </div>

            <div class="matrix-box">
                <div class="matrix-title">MLP çš„ä¸‰å€‹æ­¥é©Ÿ</div>
                <div class="code-visualization">
                    <pre><span class="code-comment"># è¼¸å…¥ï¼š[6 Ã— 48] çŸ©é™£ï¼ˆä¾†è‡ª Self-Attention + Residualï¼‰</span>

<span class="code-comment"># 0. Layer Normalizationï¼ˆå‰è™•ç†ï¼‰</span>
normalized = layer_norm(input)  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># å°æ¯ä¸€åˆ—ï¼ˆæ¯å€‹ tokenï¼‰ç¨ç«‹è™•ç†</span>
<span class="code-keyword">for</span> t <span class="code-keyword">in</span> <span class="code-keyword">range</span>(<span class="code-number">6</span>):
    vector = normalized[t]  <span class="code-comment"># [48]</span>
    
    <span class="code-comment"># 1. ç·šæ€§è½‰æ›ï¼šæ“´å±•åˆ° 4C</span>
    expanded = W1 @ vector + b1  <span class="code-comment"># [192] = 4 Ã— 48</span>
    
    <span class="code-comment"># 2. GELU æ¿€æ´»å‡½æ•¸ï¼ˆéç·šæ€§ï¼‰</span>
    activated = GELU(expanded)  <span class="code-comment"># [192]</span>
    
    <span class="code-comment"># 3. ç·šæ€§è½‰æ›ï¼šå£“ç¸®å› C</span>
    output[t] = W2 @ activated + b2  <span class="code-comment"># [48]</span>

<span class="code-comment"># 4. Residual Connection</span>
final_output = output + input  <span class="code-comment"># [6 Ã— 48]</span></pre>
                </div>
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 0ï¼šLayer Normalization</h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">0</span>
                    <span class="step-title">é è™•ç†ï¼šæ­£è¦åŒ–</span>
                </div>
                <p>åœ¨é€²å…¥ MLP ä¹‹å‰ï¼Œå…ˆå°è¼¸å…¥é€²è¡Œ Layer Normalizationï¼ˆå°±åƒé€²å…¥ Self-Attention å‰ä¸€æ¨£ï¼‰ã€‚</p>
            </div>

            <div class="matrix-box">
                <div class="code-visualization">
                    <pre><span class="code-comment"># è¼¸å…¥ï¼šä¾†è‡ª Self-Attention + Residual çš„çŸ©é™£</span>
input = attention_output + attention_input  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># Layer Normalizationï¼ˆç¬¬äºŒæ¬¡ï¼‰</span>
normalized = layer_norm(input)  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># é€™å€‹æ­£è¦åŒ–å¾Œçš„çŸ©é™£é€²å…¥ MLP</span></pre>
                </div>
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 1ï¼šç¬¬ä¸€å±¤ç·šæ€§è½‰æ›ï¼ˆæ“´å±•ï¼‰</h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">1</span>
                    <span class="step-title">æ“´å±•åˆ° 4C ç¶­åº¦</span>
                </div>
                <p>é¦–å…ˆï¼Œæˆ‘å€‘é€éçŸ©é™£-å‘é‡ä¹˜æ³•åŠ ä¸Šåå·®ï¼Œå°‡å‘é‡å¾é•·åº¦ C = 48 æ“´å±•åˆ° <strong>4 Ã— C = 192</strong>ã€‚</p>
            </div>

            <div class="formula-box">
                <div class="formula-title">ç¬¬ä¸€å±¤ç·šæ€§è½‰æ›</div>
                <div class="formula" style="font-size: 1.5rem;">
                    expanded = Wâ‚ @ x + bâ‚
                </div>
                <div class="formula-desc">
                    Wâ‚: [192 Ã— 48] æ¬Šé‡çŸ©é™£<br>
                    x: [48] è¼¸å…¥å‘é‡<br>
                    bâ‚: [192] åå·®<br>
                    expanded: [192] è¼¸å‡ºå‘é‡
                </div>
            </div>

            <div class="matrix-box">
                <div class="matrix-title">æ“´å±•éç¨‹</div>
                <div class="code-visualization">
                    <pre><span class="code-comment"># è™•ç†å–®å€‹ tokenï¼ˆç¬¬ 4 å€‹ä½ç½®ï¼Œt = 3ï¼‰</span>

input_vector = normalized[<span class="code-number">3</span>, :]  <span class="code-comment"># [48]</span>

<span class="code-comment"># ç¬¬ä¸€å±¤æ¬Šé‡çŸ©é™£</span>
W1 = [<span class="code-number">192</span> Ã— <span class="code-number">48</span>]  <span class="code-comment"># è¨“ç·´å­¸ç¿’çš„æ¬Šé‡</span>
b1 = [<span class="code-number">192</span>]        <span class="code-comment"># åå·®</span>

<span class="code-comment"># çŸ©é™£-å‘é‡ä¹˜æ³•</span>
expanded = W1 @ input_vector + b1

<span class="code-comment"># ç¶­åº¦è®ŠåŒ–</span>
[<span class="code-number">192</span> Ã— <span class="code-number">48</span>] @ [<span class="code-number">48</span>] + [<span class="code-number">192</span>] = [<span class="code-number">192</span>]
 ^^^^^^      ^^      ^^^^      ^^^^
 æ¬Šé‡        è¼¸å…¥    åå·®      è¼¸å‡º

<span class="code-comment"># å‘é‡å¾ 48 ç¶­æ“´å±•åˆ° 192 ç¶­ï¼</span></pre>
                </div>
            </div>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%); border-color: var(--gold);">
                <div class="info-box-title" style="color: var(--gold);">
                    <span>â“</span>
                    <span>ç‚ºä»€éº¼è¦æ“´å±•åˆ° 4Cï¼Ÿ</span>
                </div>
                <p><strong>é€™æ˜¯ä¸€å€‹ç¶“é©—æ€§çš„è¨­è¨ˆé¸æ“‡ï¼š</strong></p>
                <ul style="margin-left: 20px; line-height: 2; margin-top: 15px;">
                    <li><strong>å¢åŠ å®¹é‡</strong>ï¼šæ›´å¤šç¶­åº¦ = æ›´å¤šè¡¨å¾µèƒ½åŠ›</li>
                    <li><strong>ç“¶é ¸æ¶æ§‹</strong>ï¼šæ“´å±• â†’ å£“ç¸®ï¼Œå¼·åˆ¶æ¨¡å‹å­¸ç¿’é‡è¦ç‰¹å¾µ</li>
                    <li><strong>ç¶“é©—æ³•å‰‡</strong>ï¼š4Ã— æ˜¯ Transformer è«–æ–‡ä¸­ä½¿ç”¨çš„æ¯”ä¾‹</li>
                    <li><strong>å¹³è¡¡</strong>ï¼šå¤ªå°æ²’æ•ˆæœï¼Œå¤ªå¤§æµªè²»è¨ˆç®—è³‡æº</li>
                </ul>
                <p style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.8); border-radius: 10px;">
                    <strong>å…¶ä»–æ¨¡å‹ï¼š</strong><br>
                    â€¢ GPT-2ï¼š768 â†’ 3072 (4Ã—)<br>
                    â€¢ BERTï¼š768 â†’ 3072 (4Ã—)<br>
                    â€¢ GPT-3ï¼š12288 â†’ 49152 (4Ã—)<br>
                    4Ã— æ˜¯æ¥­ç•Œæ¨™æº–ï¼
                </p>
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 2ï¼šGELU æ¿€æ´»å‡½æ•¸</h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">2</span>
                    <span class="step-title">éç·šæ€§æ¿€æ´»</span>
                </div>
                <p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å°å‘é‡çš„<strong>æ¯å€‹å…ƒç´ </strong>æ‡‰ç”¨ GELU æ¿€æ´»å‡½æ•¸ã€‚</p>
                <p style="margin-top: 15px;">é€™æ˜¯ç¥ç¶“ç¶²çµ¡çš„é—œéµéƒ¨åˆ†ï¼Œå¼•å…¥<strong>éç·šæ€§</strong>åˆ°æ¨¡å‹ä¸­ã€‚</p>
            </div>

            <div class="formula-box">
                <div class="formula-title">GELU æ¿€æ´»å‡½æ•¸</div>
                <div class="formula" style="font-size: 1.3rem;">
                    GELU(x) = x Â· Î¦(x)
                </div>
                <div class="formula-desc">
                    Î¦(x) æ˜¯æ¨™æº–æ­£æ…‹åˆ†ä½ˆçš„ç´¯ç©åˆ†ä½ˆå‡½æ•¸<br>
                    GELU = Gaussian Error Linear Unit<br>
                    ã€Œé«˜æ–¯èª¤å·®ç·šæ€§å–®å…ƒã€
                </div>
            </div>

            <div class="matrix-box">
                <div class="code-visualization">
                    <pre><span class="code-comment"># GELU æ˜¯ element-wise æ“ä½œ</span>

expanded = [<span class="code-number">192</span>]  <span class="code-comment"># å¾æ­¥é©Ÿ 1</span>

<span class="code-comment"># å°æ¯å€‹å…ƒç´ æ‡‰ç”¨ GELU</span>
activated = []
<span class="code-keyword">for</span> i <span class="code-keyword">in</span> <span class="code-keyword">range</span>(<span class="code-number">192</span>):
    activated[i] = GELU(expanded[i])

<span class="code-comment"># ä¾‹å¦‚</span>
GELU(<span class="code-number">-1.5</span>) â‰ˆ <span class="code-number">-0.15</span>
GELU(<span class="code-number">0.0</span>)  â‰ˆ <span class="code-number">0.0</span>
GELU(<span class="code-number">1.5</span>)  â‰ˆ <span class="code-number">1.43</span>
GELU(<span class="code-number">3.0</span>)  â‰ˆ <span class="code-number">2.99</span>

<span class="code-comment"># ç¶­åº¦ä¸è®Šï¼š[192] â†’ [192]</span></pre>
                </div>
            </div>

            <h3>ğŸ†š GELU vs ReLU</h3>

            <div class="info-box">
                <div class="info-box-title">
                    <span>ğŸ“Š</span>
                    <span>ç‚ºä»€éº¼ä½¿ç”¨ GELU è€Œä¸æ˜¯ ReLUï¼Ÿ</span>
                </div>
                <p><strong>ReLUï¼ˆRectified Linear Unitï¼‰ï¼š</strong></p>
                <div class="formula-box" style="margin: 15px 0;">
                    <div class="formula">ReLU(x) = max(0, x)</div>
                    <div class="formula-desc">ç°¡å–®ä½†åœ¨ x=0 è™•æœ‰å°–è§’</div>
                </div>

                <p><strong>GELUï¼ˆGaussian Error Linear Unitï¼‰ï¼š</strong></p>
                <div class="formula-box" style="margin: 15px 0;">
                    <div class="formula">GELU(x) = x Â· Î¦(x)</div>
                    <div class="formula-desc">å¹³æ»‘æ›²ç·šï¼Œæ²’æœ‰å°–è§’</div>
                </div>
            </div>

            <figure>
                <img src="../../images/gelu_activation_20260105222509.png" alt="GELU vs ReLU æ¯”è¼ƒ">
                <figcaption>
                    è¦–è¦ºåŒ–ï¼šGELUï¼ˆå¹³æ»‘ç¶ è‰²æ›²ç·šï¼‰vs ReLUï¼ˆç´…è‰²æŠ˜ç·šï¼‰
                </figcaption>
            </figure>

            <div class="comparison-grid">
                <div class="comparison-card" style="border-top-color: #dc143c;">
                    <div class="card-title" style="color: #dc143c;">ReLU</div>
                    <ul style="font-size: 0.95rem; color: #666; line-height: 1.8;">
                        <li>âœ“ è¨ˆç®—ç°¡å–®å¿«é€Ÿ</li>
                        <li>âœ“ é¿å…æ¢¯åº¦æ¶ˆå¤±</li>
                        <li>âœ— åœ¨ 0 è™•ä¸å¯å¾®</li>
                        <li>âœ— "æ­»äº¡ ReLU" å•é¡Œ</li>
                    </ul>
                </div>

                <div class="comparison-card" style="border-top-color: #32cd32;">
                    <div class="card-title" style="color: #32cd32;">GELU</div>
                    <ul style="font-size: 0.95rem; color: #666; line-height: 1.8;">
                        <li>âœ“ è™•è™•å¹³æ»‘å¯å¾®</li>
                        <li>âœ“ æ›´å¥½çš„è¨“ç·´ç©©å®šæ€§</li>
                        <li>âœ“ å¯¦é©—æ•ˆæœæ›´å¥½</li>
                        <li>âœ— è¨ˆç®—ç¨æ…¢</li>
                    </ul>
                </div>
            </div>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(135, 206, 235, 0.1) 0%, rgba(135, 206, 235, 0.05) 100%); border-color: var(--mlp-blue);">
                <div class="info-box-title" style="color: var(--mlp-blue);">
                    <span>ğŸ’¡</span>
                    <span>ç‚ºä»€éº¼éœ€è¦æ¿€æ´»å‡½æ•¸ï¼Ÿ</span>
                </div>
                <p><strong>æ²’æœ‰æ¿€æ´»å‡½æ•¸ï¼š</strong></p>
                <p style="margin-left: 20px; margin-top: 10px;">
                    å¤šå±¤ç·šæ€§è®Šæ› = ä¸€å±¤ç·šæ€§è®Šæ›<br>
                    Layer2(Layer1(x)) = W2(W1Â·x) = (W2Â·W1)Â·x = W_combinedÂ·x
                </p>
                <p style="margin-top: 20px;"><strong>æœ‰æ¿€æ´»å‡½æ•¸ï¼š</strong></p>
                <p style="margin-left: 20px; margin-top: 10px;">
                    å¼•å…¥éç·šæ€§ï¼Œè®“æ¨¡å‹èƒ½å­¸ç¿’è¤‡é›œçš„æ¨¡å¼<br>
                    Layer2(GELU(Layer1(x))) â‰  ç°¡å–®çš„ç·šæ€§çµ„åˆ
                </p>
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 3ï¼šç¬¬äºŒå±¤ç·šæ€§è½‰æ›ï¼ˆå£“ç¸®ï¼‰</h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">3</span>
                    <span class="step-title">å£“ç¸®å› C ç¶­åº¦</span>
                </div>
                <p>ç„¶å¾Œï¼Œæˆ‘å€‘ç”¨å¦ä¸€å€‹çŸ©é™£-å‘é‡ä¹˜æ³•åŠ åå·®ï¼Œå°‡å‘é‡å¾ 192 ç¶­å£“ç¸®å› <strong>C = 48</strong> ç¶­ã€‚</p>
            </div>

            <div class="formula-box">
                <div class="formula-title">ç¬¬äºŒå±¤ç·šæ€§è½‰æ›</div>
                <div class="formula" style="font-size: 1.5rem;">
                    output = Wâ‚‚ @ activated + bâ‚‚
                </div>
                <div class="formula-desc">
                    Wâ‚‚: [48 Ã— 192] æ¬Šé‡çŸ©é™£<br>
                    activated: [192] æ¿€æ´»å¾Œçš„å‘é‡<br>
                    bâ‚‚: [48] åå·®<br>
                    output: [48] æœ€çµ‚è¼¸å‡º
                </div>
            </div>

            <div class="matrix-box">
                <div class="matrix-title">å£“ç¸®éç¨‹</div>
                <div class="code-visualization">
                    <pre><span class="code-comment"># activated å‘é‡ï¼š[192]</span>

<span class="code-comment"># ç¬¬äºŒå±¤æ¬Šé‡çŸ©é™£</span>
W2 = [<span class="code-number">48</span> Ã— <span class="code-number">192</span>]  <span class="code-comment"># è¨“ç·´å­¸ç¿’çš„æ¬Šé‡</span>
b2 = [<span class="code-number">48</span>]         <span class="code-comment"># åå·®</span>

<span class="code-comment"># çŸ©é™£-å‘é‡ä¹˜æ³•</span>
output = W2 @ activated + b2

<span class="code-comment"># ç¶­åº¦è®ŠåŒ–</span>
[<span class="code-number">48</span> Ã— <span class="code-number">192</span>] @ [<span class="code-number">192</span>] + [<span class="code-number">48</span>] = [<span class="code-number">48</span>]
 ^^^^^^      ^^^      ^^      ^^
 æ¬Šé‡        è¼¸å…¥     åå·®    è¼¸å‡º

<span class="code-comment"># å‘é‡å¾ 192 ç¶­å£“ç¸®å› 48 ç¶­ï¼</span>
<span class="code-comment"># å›åˆ°åŸå§‹çš„æ¨¡å‹ç¶­åº¦ C</span></pre>
                </div>
            </div>

            <div class="pull-quote">
                æ“´å±• â†’ æ¿€æ´» â†’ å£“ç¸®<br><br>
                é€™ç¨®ã€Œç“¶é ¸ã€æ¶æ§‹å¼·åˆ¶æ¨¡å‹å­¸ç¿’<br>
                <strong>æ¿ƒç¸®çš„ã€æœ‰ç”¨çš„è¡¨å¾µ</strong>ã€‚
            </div>

            <h2>ğŸ“ æ­¥é©Ÿ 4ï¼šResidual Connection</h2>

            <div class="step-box">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <span class="step-number">4</span>
                    <span class="step-title">èˆ‡åŸå§‹è¼¸å…¥ç›¸åŠ </span>
                </div>
                <p>å°±åƒåœ¨ Self-Attention + Projection éƒ¨åˆ†ï¼Œæˆ‘å€‘å°‡ MLP çš„çµæœèˆ‡å…¶<strong>è¼¸å…¥</strong>é€²è¡Œé€å…ƒç´ ç›¸åŠ ã€‚</p>
            </div>

            <div class="matrix-box">
                <div class="code-visualization">
                    <pre><span class="code-comment"># MLP çš„è¼¸å…¥ï¼ˆSelf-Attention çš„è¼¸å‡ºï¼‰</span>
mlp_input = attention_output + attention_input  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># MLP è™•ç†å¾Œçš„è¼¸å‡º</span>
mlp_output = MLP(layer_norm(mlp_input))  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># Residual Connection</span>
final_output = mlp_output + mlp_input  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># é€™å°±æ˜¯æ•´å€‹ Transformer Block çš„è¼¸å‡ºï¼</span></pre>
                </div>
            </div>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(0, 255, 65, 0.05) 100%); border-color: var(--matrix-green);">
                <div class="info-box-title" style="color: var(--matrix-green);">
                    <span>ğŸ”„</span>
                    <span>Transformer Block çš„å…©å€‹ Residual Connections</span>
                </div>
                <p>ä¸€å€‹å®Œæ•´çš„ Transformer Block æœ‰<strong>å…©å€‹</strong> Residual Connectionsï¼š</p>
                <div class="matrix-box" style="margin-top: 20px;">
                    <div class="code-visualization">
                        <pre><span class="code-comment"># ç¬¬ä¸€å€‹ Residualï¼šSelf-Attention</span>
x1 = x0 + Self_Attention(LayerNorm(x0))

<span class="code-comment"># ç¬¬äºŒå€‹ Residualï¼šMLP</span>
x2 = x1 + MLP(LayerNorm(x1))

<span class="code-comment"># x2 å°±æ˜¯ Transformer Block çš„è¼¸å‡º</span>
<span class="code-comment"># æº–å‚™å‚³éçµ¦ä¸‹ä¸€å€‹ Blockï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰</span></pre>
                    </div>
                </div>
            </div>

            <h2>ğŸ” å°æ‰€æœ‰ Tokens é‡è¤‡</h2>

            <div class="matrix-box">
                <div class="matrix-title">å®Œæ•´çš„ MLP è™•ç†</div>
                <div class="code-visualization">
                    <pre><span class="code-comment"># è¼¸å…¥ï¼š[6 Ã— 48] çŸ©é™£</span>
input_matrix = [<span class="code-number">6</span> Ã— <span class="code-number">48</span>]

<span class="code-comment"># Layer Normalizationï¼ˆå°æ•´å€‹çŸ©é™£ï¼‰</span>
normalized = layer_norm(input_matrix)  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># å°æ¯ä¸€åˆ—ï¼ˆæ¯å€‹ tokenï¼‰ç¨ç«‹è™•ç†</span>
output_matrix = []
<span class="code-keyword">for</span> t <span class="code-keyword">in</span> <span class="code-keyword">range</span>(<span class="code-number">6</span>):
    <span class="code-comment"># 1. æ“´å±•</span>
    expanded = W1 @ normalized[t] + b1      <span class="code-comment"># [48] â†’ [192]</span>
    
    <span class="code-comment"># 2. æ¿€æ´»</span>
    activated = GELU(expanded)              <span class="code-comment"># [192]</span>
    
    <span class="code-comment"># 3. å£“ç¸®</span>
    compressed = W2 @ activated + b2        <span class="code-comment"># [192] â†’ [48]</span>
    
    output_matrix[t] = compressed

<span class="code-comment"># 4. Residual Connection</span>
final = output_matrix + input_matrix  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># é€™å°±æ˜¯ MLP å®Œæˆäº†ï¼</span></pre>
                </div>
            </div>

            <div class="info-box">
                <div class="info-box-title">
                    <span>ğŸ”‘</span>
                    <span>é—œéµç‰¹æ€§ï¼šç¨ç«‹è™•ç†</span>
                </div>
                <p>èˆ‡ Self-Attention ä¸åŒï¼ŒMLP å°æ¯å€‹ token <strong>å®Œå…¨ç¨ç«‹</strong>è™•ç†ï¼š</p>
                <ul style="margin-left: 20px; line-height: 2; margin-top: 15px;">
                    <li><strong>Self-Attention</strong>ï¼štokens ä¹‹é–“æœƒäº’ç›¸å½±éŸ¿ï¼ˆQueryÂ·Keyï¼‰</li>
                    <li><strong>MLP</strong>ï¼šæ¯å€‹ token ç”¨<strong>åŒæ¨£çš„</strong>æ¬Šé‡çŸ©é™£ï¼Œ<strong>ç¨ç«‹</strong>è½‰æ›</li>
                </ul>
                <p style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.8); border-radius: 10px;">
                    é€™ç¨®è¨­è¨ˆçš„å¥½è™•ï¼š<br>
                    â€¢ Self-Attention è² è²¬ã€Œæºé€šã€<br>
                    â€¢ MLP è² è²¬ã€Œæ·±åº¦è™•ç†ã€<br>
                    â€¢ å…©è€…åˆ†å·¥æ˜ç¢ºï¼Œå„å¸å…¶è·
                </p>
            </div>

            <h2>ğŸ“ nano-gpt çš„åƒæ•¸çµ±è¨ˆ</h2>

            <div class="matrix-box">
                <div class="code-visualization">
                    <pre><span class="code-comment"># MLP å±¤åƒæ•¸çµ±è¨ˆ</span>

<span class="code-comment">## ç¬¬ä¸€å±¤ï¼ˆæ“´å±•ï¼‰</span>
W1: [<span class="code-number">192</span> Ã— <span class="code-number">48</span>] = <span class="code-number">9,216</span> å€‹åƒæ•¸
b1: [<span class="code-number">192</span>] = <span class="code-number">192</span> å€‹åƒæ•¸
ç¬¬ä¸€å±¤ç¸½è¨ˆï¼š<span class="code-number">9,408</span> å€‹åƒæ•¸

<span class="code-comment">## ç¬¬äºŒå±¤ï¼ˆå£“ç¸®ï¼‰</span>
W2: [<span class="code-number">48</span> Ã— <span class="code-number">192</span>] = <span class="code-number">9,216</span> å€‹åƒæ•¸
b2: [<span class="code-number">48</span>] = <span class="code-number">48</span> å€‹åƒæ•¸
ç¬¬äºŒå±¤ç¸½è¨ˆï¼š<span class="code-number">9,264</span> å€‹åƒæ•¸

<span class="code-comment">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span>
<span class="code-comment"># MLP ç¸½åƒæ•¸</span>
<span class="code-number">9,408</span> + <span class="code-number">9,264</span> = <span class="code-number">18,672</span> å€‹åƒæ•¸

<span class="code-comment">## é…ç½®</span>
C (æ¨¡å‹ç¶­åº¦)ï¼š<span class="code-number">48</span>
æ“´å±•ç¶­åº¦ï¼š<span class="code-number">192</span> (4 Ã— C)
åºåˆ—é•·åº¦ï¼š<span class="code-number">6</span></pre>
                </div>
            </div>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(255, 87, 51, 0.1) 0%, rgba(255, 87, 51, 0.05) 100%); border-color: #ff5733;">
                <div class="info-box-title" style="color: #ff5733;">
                    <span>ğŸ“Š</span>
                    <span>å®Œæ•´çš„ Transformer Block åƒæ•¸åˆ†ä½ˆ</span>
                </div>
                <div class="matrix-box" style="margin-top: 20px;">
                    <div class="code-visualization">
                        <pre><span class="code-comment"># ä¸€å€‹å®Œæ•´ Transformer Block çš„åƒæ•¸</span>

Layer Norm 1ï¼š<span class="code-number">96</span> åƒæ•¸ (Î³ + Î²)
Multi-Head Attentionï¼š<span class="code-number">9,408</span> åƒæ•¸
Layer Norm 2ï¼š<span class="code-number">96</span> åƒæ•¸ (Î³ + Î²)
MLPï¼š<span class="code-number">18,672</span> åƒæ•¸
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Transformer Block ç¸½è¨ˆï¼š<span class="code-number">28,272</span> å€‹åƒæ•¸

<span class="code-comment"># åƒæ•¸åˆ†ä½ˆ</span>
Attentionï¼š<span class="code-number">33.3%</span>
MLPï¼š      <span class="code-number">66.0%</span>
LayerNormï¼š<span class="code-number">0.7%</span>

<span class="code-comment"># MLP ä½”äº†å¤§éƒ¨åˆ†åƒæ•¸ï¼</span></pre>
                    </div>
                </div>
                <p style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.8); border-radius: 10px;">
                    <strong>ğŸ’¡ æœ‰è¶£çš„è§€å¯Ÿï¼š</strong><br>
                    é›–ç„¶ Attention æ˜¯ Transformer çš„ã€Œæ˜æ˜Ÿã€æ©Ÿåˆ¶ï¼Œ<br>
                    ä½† MLP å¯¦éš›ä¸Šä½”äº†<strong>æ›´å¤šçš„åƒæ•¸</strong>ï¼ˆç´„ 2/3ï¼‰ï¼<br>
                    MLP æ˜¯æ¨¡å‹å®¹é‡çš„ä¸»è¦ä¾†æºã€‚
                </p>
            </div>

            <h2>ğŸŒŸ MLP å®Œæˆäº†ï¼</h2>

            <div class="pull-quote">
                ç¾åœ¨æˆ‘å€‘æœ‰äº† Transformer Block çš„è¼¸å‡ºï¼Œ<br>
                å®ƒå·²ç¶“æº–å‚™å¥½å‚³éåˆ°<strong>ä¸‹ä¸€å€‹ Block</strong>ã€‚
            </div>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(135, 206, 235, 0.1) 0%, rgba(135, 206, 235, 0.05) 100%); border-color: var(--mlp-blue);">
                <div class="info-box-title" style="color: var(--mlp-blue);">
                    <span>âœ…</span>
                    <span>Transformer Block å®Œæ•´æµç¨‹å›é¡§</span>
                </div>
                <div class="matrix-box" style="margin-top: 20px;">
                    <div class="code-visualization">
                        <pre><span class="code-comment"># å®Œæ•´çš„ Transformer Block</span>

x = input_embedding  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># â•â•â• Part 1: Self-Attention â•â•â•</span>
x = x + Multi_Head_Attention(LayerNorm(x))

<span class="code-comment"># â•â•â• Part 2: MLP â•â•â•</span>
x = x + MLP(LayerNorm(x))

<span class="code-comment"># å…¶ä¸­ MLP(x) =</span>
<span class="code-comment">#   1. W1 @ x + b1  (æ“´å±•åˆ° 4C)</span>
<span class="code-comment">#   2. GELU()       (éç·šæ€§æ¿€æ´»)</span>
<span class="code-comment">#   3. W2 @ x + b2  (å£“ç¸®å› C)</span>

output = x  <span class="code-comment"># [6 Ã— 48]</span>

<span class="code-comment"># é€™å€‹è¼¸å‡ºå¯ä»¥ï¼š</span>
<span class="code-comment"># - å‚³éçµ¦ä¸‹ä¸€å€‹ Transformer Block</span>
<span class="code-comment"># - æˆ–è€…ï¼ˆå¦‚æœé€™æ˜¯æœ€å¾Œä¸€å±¤ï¼‰å‚³éçµ¦è¼¸å‡ºå±¤</span></pre>
                    </div>
                </div>
            </div>

            <h2>ğŸš€ ä¸‹ä¸€æ­¥</h2>

            <p>åœ¨ nano-gpt ä¸­ï¼ŒTransformer Block çš„è¼¸å‡ºæœƒï¼š</p>

            <div class="comparison-grid">
                <div class="comparison-card" style="border-top-color: var(--gold);">
                    <div class="card-title">â†’ ç¬¬ä¸ƒç« </div>
                    <p><strong>è¼¸å‡ºå±¤èˆ‡é æ¸¬</strong></p>
                    <p>å°‡æœ€çµ‚çš„å‘é‡è½‰æ›ç‚ºä¸‹ä¸€å€‹ token çš„æ©Ÿç‡åˆ†ä½ˆ</p>
                </div>

                <div class="comparison-card" style="border-top-color: var(--matrix-green);">
                    <div class="card-title">â†’ å®Œæ•´ç†è§£</div>
                    <p><strong>ç«¯åˆ°ç«¯æµç¨‹</strong></p>
                    <p>å¾è¼¸å…¥æ–‡å­—åˆ°è¼¸å‡ºé æ¸¬çš„å®Œæ•´æ—…ç¨‹</p>
                </div>
            </div>

            <h2 style="margin-top: 80px;">ğŸ—ºï¸ å›é¡§æ¶æ§‹å…¨è²Œ</h2>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(135, 206, 235, 0.1) 0%, rgba(135, 206, 235, 0.05) 100%); border-color: var(--mlp-blue);">
                <div class="info-box-title" style="color: var(--mlp-blue);">
                    <span>ğŸ“</span>
                    <span>MLP åœ¨å®Œæ•´æ¶æ§‹ä¸­çš„ä½ç½®</span>
                </div>
                <figure style="margin: 20px 0 0 0;">
                    <img src="../../images/llm_architecture_full_20260105210724.png" alt="LLM å®Œæ•´æ¶æ§‹" style="max-width: 100%; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                    <figcaption style="margin-top: 20px; font-size: 1rem; color: #666; line-height: 1.8;">
                        å®Œæ•´æ¶æ§‹åœ–ï¼šæˆ‘å€‘å‰›å‰›å®Œæˆäº† <span style="color: #87ceeb; font-weight: 700;">MLP (Feed-Forward Network)</span>ï¼Œ<br>
                        Transformer Block çš„ç¬¬äºŒå€‹ä¸»è¦çµ„ä»¶
                    </figcaption>
                </figure>
                <div style="text-align: center; margin-top: 30px;">
                    <a href="../index.html" style="display: inline-block; padding: 15px 40px; background: var(--mlp-blue); color: #0a0e27; text-decoration: none; border-radius: 50px; font-weight: 700; transition: transform 0.3s ease;">
                        â† è¿”å›æ•™å­¸é¦–é æŸ¥çœ‹æ‰€æœ‰ç« ç¯€
                    </a>
                </div>
            </div>

        </div>
    </div>

    <!-- Chapter Navigation -->
    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 60px 40px; margin-top: 80px;">
        <div style="max-width: 900px; margin: 0 auto;">
            
            <h2 style="font-family: 'Noto Serif TC', serif; font-size: 2rem; color: #0a0e27; text-align: center; margin-bottom: 40px; border: none; padding: 0;">
                ğŸ¯ æœ¬ç« é‡é»å›é¡§
            </h2>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap: 20px; margin-bottom: 50px;">
                <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ“ˆ</div>
                    <div style="font-weight: 700; color: #0a0e27; margin-bottom: 8px;">æ“´å±•åˆ° 4C (192ç¶­)</div>
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.6;">ç¬¬ä¸€å±¤ç·šæ€§è½‰æ›å¢åŠ å®¹é‡</div>
                </div>

                <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 2rem; margin-bottom: 10px;">âš¡</div>
                    <div style="font-weight: 700; color: #0a0e27; margin-bottom: 8px;">GELU éç·šæ€§æ¿€æ´»</div>
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.6;">å¹³æ»‘æ›²ç·šï¼Œæ¯” ReLU æ›´ç©©å®š</div>
                </div>

                <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ“‰</div>
                    <div style="font-weight: 700; color: #0a0e27; margin-bottom: 8px;">å£“ç¸®å› C (48ç¶­)</div>
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.6;">ç¬¬äºŒå±¤ç·šæ€§è½‰æ›å›åˆ°åŸç¶­åº¦</div>
                </div>

                <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ’</div>
                    <div style="font-weight: 700; color: #0a0e27; margin-bottom: 8px;">18,672 åƒæ•¸ (ä½” 2/3)</div>
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.6;">MLP æ˜¯æ¨¡å‹å®¹é‡çš„ä¸»è¦ä¾†æº</div>
                </div>
            </div>

            <div style="border-top: 2px solid #dee2e6; padding-top: 40px; margin-top: 40px;">
                <h3 style="font-family: 'Noto Serif TC', serif; font-size: 1.5rem; color: #0a0e27; text-align: center; margin-bottom: 30px;">
                    ğŸ“š ç« ç¯€å°èˆª
                </h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                    <a href="04-multihead-projection-residual.html" style="display: flex; align-items: center; gap: 15px; padding: 25px; background: white; border-radius: 15px; text-decoration: none; color: #0a0e27; transition: transform 0.3s ease, box-shadow 0.3s ease; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                        <div style="font-size: 2rem;">â¬…ï¸</div>
                        <div>
                            <div style="font-size: 0.85rem; color: #666; margin-bottom: 5px;">ä¸Šä¸€ç« </div>
                            <div style="font-weight: 700; font-size: 1.1rem;">Multi-Head & Projection</div>
                            <div style="font-size: 0.9rem; color: #999; margin-top: 3px;">åˆä½µèˆ‡æŠ•å½±</div>
                        </div>
                    </a>

                    <a href="06-output-layer-softmax.html" style="display: flex; align-items: center; justify-content: flex-end; gap: 15px; padding: 25px; background: linear-gradient(135deg, #ffd700 0%, #f0c000 100%); border-radius: 15px; text-decoration: none; color: #0a0e27; transition: transform 0.3s ease, box-shadow 0.3s ease; box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);">
                        <div style="text-align: right;">
                            <div style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 5px;">ä¸‹ä¸€ç« </div>
                            <div style="font-weight: 700; font-size: 1.1rem;">Output Layer & Softmax</div>
                            <div style="font-size: 0.9rem; opacity: 0.9; margin-top: 5px;">æœ€çµ‚é æ¸¬</div>
                        </div>
                        <div style="font-size: 2rem;">â¡ï¸</div>
                    </a>
                </div>

                <div style="text-align: center; padding: 20px; background: rgba(255, 215, 0, 0.1); border-radius: 12px; border: 2px dashed var(--gold);">
                    <div style="font-size: 0.95rem; color: #666; line-height: 1.8;">
                        <strong style="color: #0a0e27;">ğŸ’¡ ä¸‹ä¸€æ­¥å­¸ä»€éº¼ï¼Ÿ</strong><br>
                        Transformer Block å®Œæˆï¼ç¶“é Self-Attention å’Œ MLP çš„è™•ç†ï¼Œ<br>
                        ç¾åœ¨è¦å°‡æœ€çµ‚çš„å‘é‡è½‰æ›ç‚º<strong style="color: var(--gold);">ä¸‹ä¸€å€‹ token çš„æ©Ÿç‡é æ¸¬</strong>ã€‚
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Footer Quote -->
    <div class="footer-quote">
        <p class="footer-quote-text">
            ã€Œç°¡å–®çš„å…©å±¤ç¶²çµ¡ï¼Œ<br>
            å»æ‰¿è¼‰äº†æ¨¡å‹ä¸‰åˆ†ä¹‹äºŒçš„åƒæ•¸ã€‚ã€
        </p>
        <p class="footer-quote-author">â€” LLM è¦–è¦ºåŒ–æ•™å­¸ Â· 2026</p>
    </div>

</body>
</html>

