<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第 4 頁：數據集與實驗設計 - InstructGPT 論文深度解析</title>
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/paper-reading.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            <a href="index.html">InstructGPT 深度解析</a>
            <span>/</span>
            <span class="current">04. 數據集與實驗設計</span>
        </div>

        <h1>第 4 頁：數據從哪裡來？如何標註？</h1>
        
        <div class="header-section">
            <p class="lead">RLHF 的成功取決於高品質的人類標註資料。這一頁揭露 OpenAI 如何收集與處理這些珍貴的資料。</p>
        </div>

        <section class="section-block">
            <h2>數據規模：13k / 33k / 31k</h2>
            
            <div class="key-concept">
                <h4>📊 三種數據集 (Datasets)</h4>
                <table>
                    <thead>
                        <tr>
                            <th>資料集</th>
                            <th>用途</th>
                            <th>數量</th>
                            <th>標註方式</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>SFT Dataset</strong></td>
                            <td>訓練監督式微調模型</td>
                            <td>~13k prompts</td>
                            <td>Labeler <strong>親自寫</strong>完整回答</td>
                        </tr>
                        <tr>
                            <td><strong>RM Dataset</strong></td>
                            <td>訓練獎勵模型</td>
                            <td>~33k prompts</td>
                            <td>Labeler <strong>排序</strong> 4-9 個模型輸出</td>
                        </tr>
                        <tr>
                            <td><strong>PPO Dataset</strong></td>
                            <td>強化學習輸入</td>
                            <td>~31k prompts</td>
                            <td>無需標註 (只要 Prompt)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 新增：真實資料範例 (Design Overhaul) -->
            <div style="margin-top: 60px;">
                <h3 style="text-align: center; margin-bottom: 40px; font-size: 2rem;">🔬 資料解剖室</h3>
                
                <!-- 1. SFT Data Example -->
                <div class="data-card">
                    <div class="data-card-header" style="background: #1e40af;">
                        <span>1️⃣ SFT 資料集 (Supervised Fine-Tuning)</span>
                        <span style="font-size: 0.8rem; background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px;">高品質示範</span>
                    </div>
                    <div class="data-card-body">
                        <div class="label-badge badge-input">Input (Prompt)</div>
                        <div class="content-block">
                            請向六歲小孩解釋什麼是登陸月球。
                        </div>
                        
                        <div class="label-badge badge-output">Output (Target) ← 人類手寫</div>
                        <div class="content-block target">
                            很久很久以前，有三個勇敢的太空人坐著巨大的火箭飛向月球。他們穿著特殊的白色太空衣，像氣球一樣。當他們踩在月球上時，因為月球引力很小，他們可以跳得非常高，就像在彈簧床上一樣！
                        </div>
                        
                        <div class="note-text">
                            💡 <strong>訓練目標 (Loss)：</strong> 模型要學會一字不差地模仿這個人類寫的答案。
                        </div>
                    </div>
                </div>

                <!-- 2. RM Data Example -->
                <div class="data-card">
                    <div class="data-card-header" style="background: #b45309;">
                        <span>2️⃣ RM 資料集 (Reward Model)</span>
                        <span style="font-size: 0.8rem; background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px;">比較與排序</span>
                    </div>
                    <div class="data-card-body">
                        <div class="label-badge badge-input">Input (Prompt)</div>
                        <div class="content-block">
                            請向六歲小孩解釋什麼是登陸月球。
                        </div>
                        
                        <div class="label-badge badge-ai">Model Outputs (AI 生成的選項)</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                            <div style="padding: 15px; background: #f8fafc; border-radius: 8px;">
                                <strong>A:</strong> 阿波羅11號任務在1969年發射...
                            </div>
                            <div style="padding: 15px; background: #f8fafc; border-radius: 8px;">
                                <strong>B:</strong> 月球是地球的衛星...
                            </div>
                            <div style="padding: 15px; background: #fff7ed; border: 2px solid #fdba74; border-radius: 8px;">
                                <strong>C (Winner!):</strong> 像去公園玩一樣，但是要去很遠的地方...
                            </div>
                            <div style="padding: 15px; background: #f8fafc; border-radius: 8px;">
                                <strong>D:</strong> 月球重力是地球的1/6...
                            </div>
                        </div>

                        <div class="label-badge" style="background: #d97706; color: white;">Human Label (Ranking) ← 人類排序</div>
                        <div class="content-block ranking" style="text-align: center; font-size: 1.5rem; font-weight: bold; letter-spacing: 2px;">
                            C > B > A > D
                        </div>
                        
                        <div class="note-text">
                            💡 <strong>訓練目標 (Reward)：</strong> 訓練 Reward Model 預測出相同的排名分數。
                        </div>
                    </div>
                </div>

                <!-- 3. PPO Data Example -->
                <div class="data-card">
                    <div class="data-card-header" style="background: #7e22ce;">
                        <span>3️⃣ PPO 資料集 (Reinforcement Learning)</span>
                        <span style="font-size: 0.8rem; background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px;">無標註 (最便宜)</span>
                    </div>
                    <div class="data-card-body">
                        <div class="label-badge badge-input">Input (Prompt) Only</div>
                        <div class="content-block">
                            請向六歲小孩解釋什麼是登陸月球。
                        </div>
                        
                        <div class="label-badge" style="background: #e2e8f0; color: #64748b;">Label (標註)</div>
                        <div style="padding: 30px; border: 2px dashed #cbd5e1; border-radius: 8px; text-align: center; color: #94a3b8; font-style: italic; background: #f8fafc;">
                            (Empty) 不需要人類介入！
                        </div>
                        
                        <div style="margin-top: 20px;" class="note-text">
                            💡 <strong>訓練目標 (RL)：</strong> 模型自己生成回答 → RM 給分 → PPO 調整模型。<br>
                            <span style="font-size: 0.85rem; color: var(--text-muted);">這就是為什麼 PPO 資料量最大，因為最便宜！</span>
                        </div>
                    </div>
                </div>
            </div>

            <div style="background: var(--primary-light); padding: 20px; border-radius: var(--radius-md);">
                <h4 style="color: var(--primary-dark); margin-top: 0;">❓ 為什麼 RM 資料最多？</h4>
                <p>因為「排序」比「寫答案」快得多！</p>
                <ul>
                    <li><strong>寫答案 (SFT):</strong> Labeler 要花 5-10 分鐘構思並寫出高品質回答。</li>
                    <li><strong>排序 (RM):</strong> Labeler 只需看 4-9 個現成答案，花 1-2 分鐘排序即可。</li>
                    <li>一次排序產生 \( {K \choose 2} \) 個比較對 (例如 K=4 產生 6 對)，資料效率高！</li>
                </ul>
            </div>
        </section>

        <section class="section-block">
            <h2>📝 實際 Prompt 範例（來自論文 Appendix）</h2>
            
            <div class="explanation">
                <p style="margin-bottom: 30px; font-size: 1.1rem;">
                    論文作者在 Appendix 中公開了 54 個實際範例，這些都是真實用戶提交給 API 的請求。讓我們看看它們長什麼樣子：
                </p>
                
                <!-- 1. Brainstorming -->
                <div class="data-card">
                    <div class="data-card-header" style="background: #0ea5e9;">
                        <span>1️⃣ Brainstorming (腦力激盪)</span>
                    </div>
                    <div class="data-card-body">
                        <div class="label-badge badge-input">Real User Prompt</div>
                        <div class="content-block" style="font-weight: 500;">
                            List five ideas for how to regain enthusiasm for my career
                        </div>
                        
                        <div class="note-text" style="color: var(--text-main); margin-top: 15px;">
                            <strong>中文翻譯：</strong> 列出五個重拾工作熱情的想法
                        </div>
                        <div class="note-text" style="color: #0284c7; margin-top: 5px;">
                            <strong>💬 ChatGPT 體驗：</strong> 這就是為什麼你可以問它「給我 10 個創業點子」！
                        </div>
                    </div>
                </div>

                <!-- 2. Generation -->
                <div class="data-card">
                    <div class="data-card-header" style="background: #059669;">
                        <span>2️⃣ Generation (內容生成)</span>
                    </div>
                    <div class="data-card-body">
                        <div class="label-badge badge-input">Real User Prompt</div>
                        <div class="content-block" style="font-weight: 500;">
                            Write a short story where a bear goes to the beach, makes friends with a seal, and then returns home.
                        </div>
                        
                        <div class="note-text" style="color: var(--text-main); margin-top: 15px;">
                            <strong>中文翻譯：</strong> 寫一個短篇故事：熊去海邊，和海豹交朋友，然後回家。
                        </div>
                        <div class="note-text" style="color: #059669; margin-top: 5px;">
                            <strong>💬 ChatGPT 體驗：</strong> 這就是為什麼很多人用它來寫故事和文案！
                        </div>
                    </div>
                </div>

                <!-- 3. Chat -->
                <div class="data-card">
                    <div class="data-card-header" style="background: #7c3aed;">
                        <span>3️⃣ Chat (對話與角色扮演)</span>
                    </div>
                    <div class="data-card-body">
                        <div class="label-badge badge-input">Real User Prompt</div>
                        <div class="content-block" style="font-weight: 500;">
                            Marv is a chatbot that reluctantly answers questions with sarcastic responses:<br><br>
                            You: How many pounds are in a kilogram?<br>
                            Marv: This again? There are 2.2 pounds in a kilogram.<br>
                            You: What does HTML stand for?<br>
                            Marv:
                        </div>
                        
                        <div class="note-text" style="color: var(--text-main); margin-top: 15px;">
                            <strong>中文翻譯：</strong> (設定 Marv 是一個講話諷刺的機器人...)
                        </div>
                        <div class="note-text" style="color: #7c3aed; margin-top: 5px;">
                            <strong>💬 ChatGPT 體驗：</strong> 這就是「角色扮演 (Roleplay)」！你可以設定 AI 的語氣和個性。
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section-block">
            <h2>📊 使用案例分布：API 用戶都在做什麼？</h2>
            
            <p style="color: var(--text-secondary); margin-bottom: 20px;">
                看完具體範例後，讓我們來看看這些任務的統計分布...
            </p>
            
            <div class="original-text">
                <h3>📋 Use Case Distribution (原文表格)</h3>
                <blockquote>
                    <strong>Table 1: Distribution of use case categories from our API prompt dataset.</strong>
                    <ul style="margin: 10px 0; font-family: monospace;">
                        <li>Generation: <strong>45.6%</strong></li>
                        <li>Open QA: <strong>12.4%</strong></li>
                        <li>Brainstorming: <strong>11.2%</strong></li>
                        <li>Chat: <strong>8.4%</strong></li>
                        <li>Rewrite: <strong>6.6%</strong></li>
                        <li>Summarization: <strong>4.2%</strong></li>
                        <li>Classification: <strong>3.5%</strong></li>
                        <li>Other: <strong>3.5%</strong></li>
                        <li>Closed QA: <strong>2.6%</strong></li>
                        <li>Extract: <strong>1.9%</strong></li>
                    </ul>
                </blockquote>
            </div>
            
            <div class="key-concept">
                <h4>📊 使用案例分類說明</h4>
                <h4>📊 Top 10 Use Cases</h4>
                <table>
                    <thead>
                        <tr>
                            <th>使用案例</th>
                            <th>比例</th>
                            <th>範例</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Generation (生成)</strong></td>
                            <td>45.6%</td>
                            <td>"Write a story about a bear..."</td>
                        </tr>
                        <tr>
                            <td><strong>Open QA (開放問答)</strong></td>
                            <td>12.4%</td>
                            <td>"What causes rainbows?"</td>
                        </tr>
                        <tr>
                            <td><strong>Brainstorming (腦力激盪)</strong></td>
                            <td>11.2%</td>
                            <td>"List 5 ideas for marketing campaigns"</td>
                        </tr>
                        <tr>
                            <td><strong>Chat (對話)</strong></td>
                            <td>8.4%</td>
                            <td>"Hi, how are you today?"</td>
                        </tr>
                        <tr>
                            <td><strong>Rewrite (改寫)</strong></td>
                            <td>6.6%</td>
                            <td>"Make this email more professional"</td>
                        </tr>
                        <tr>
                            <td><strong>Summarization (摘要)</strong></td>
                            <td>4.2%</td>
                            <td>"Summarize this article"</td>
                        </tr>
                        <tr>
                            <td><strong>Classification (分類)</strong></td>
                            <td>3.5%</td>
                            <td>"Is this review positive or negative?"</td>
                        </tr>
                        <tr>
                            <td>其他</td>
                            <td>8.1%</td>
                            <td>...</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="analogy">
                <h4>🤖 AI 體驗連結：為什麼 ChatGPT 擅長「聊天」但不擅長「分類」？</h4>
                <p>看到了嗎？API 使用者有 <strong>57%</strong> 的需求是開放式生成 (Generation + Brainstorming + Open QA)，而只有 <strong>3.5%</strong> 是分類任務。</p>
                <p>這就是為什麼 ChatGPT 可以陪你聊天、寫詩、編故事，但如果你要它做「情感分類」或「實體識別」，它的表現可能不如專門的 BERT 模型。</p>
                <p><strong>⚠️ Reality Check:</strong> InstructGPT 的訓練資料反映了 <strong>API 用戶的偏好</strong>，而不是所有 NLP 任務的公平分布。這也是為什麼它在傳統 NLP Benchmark 上表現普通，但在實際應用中卻大受歡迎。</p>
                <div class="key-concept" style="margin-top: 30px;">
                    <h4>🎯 關鍵洞察：Prompts 決定了 AI 的能力邊界</h4>
                    <ul>
                        <li><strong>訓練資料 = 能力天花板</strong>：InstructGPT 擅長生成、對話、改寫，因為這些佔了 60% 的訓練資料</li>
                        <li><strong>少見的任務 = 較弱的表現</strong>：分類 (3.5%)、抽取 (1.9%) 較少，所以表現不如專門模型</li>
                        <li><strong>自然指令 = 人類友善</strong>：不需要設計複雜的 prompt 模板，直接用人話說就行</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="section-block">
            <h2>標註者 (Labelers) 是誰？</h2>
            
            <div class="text-pair">
                <div class="original-text">
                    We hired a team of about 40 contractors on Upwork and through ScaleAI... Our aim was to select a group of labelers who were sensitive to the preferences of different demographic groups, and who were good at identifying outputs that were potentially harmful.
                </div>
                <div class="translation">
                    我們透過 Upwork 和 ScaleAI 聘請了約 40 名承包商... 我們的目標是選擇一組對不同人口群體偏好敏感、並且擅長識別潛在有害輸出的標註者。
                </div>
            </div>

            <div class="explanation">
                <h4>🔍 標註者篩選流程</h4>
                <ol>
                    <li><strong>篩選測試</strong>：評估標註者識別敏感內容與有害輸出的能力。</li>
                    <li><strong>訓練過程</strong>：提供詳細指引，解釋什麼是「Helpful, Honest, Harmless」。</li>
                    <li><strong>持續溝通</strong>：建立共享聊天室，隨時回答標註者的問題。</li>
                </ol>
                <p><strong>Inter-annotator Agreement (標註者間一致性):</strong> 72.6 ± 1.5%</p>
                <p>這意味著大約 <strong>27%</strong> 的時間，不同標註者會對同一個輸出有不同看法！這凸顯了「對齊」的複雜性。</p>
            </div>

            <div class="problem">
                <h4>❌ 問題：我們對齊到「誰」的偏好？</h4>
                <p>這 40 位標註者大多是：</p>
                <ul>
                    <li>英語為母語 (96% 的資料是英文)</li>
                    <li>居住在美國或東南亞</li>
                    <li>透過 Upwork/ScaleAI 招募</li>
                </ul>
                <p>他們真的能代表 <strong>全世界所有使用者</strong> 的偏好嗎？</p>
                <p>論文坦承：<strong>「我們對齊的是特定群體的偏好，而非『人類價值觀』本身」</strong></p>
            </div>
        </section>

        <section class="section-block">
            <h2>標註界面實拍</h2>
            
            <div class="figure figure-original">
                <img src="images/original/labelserver_ranking.png" alt="Labeling Interface" style="max-width: 100%;">
                <div class="caption">
                    <strong>Figure:</strong> 標註者實際使用的排序界面。<br>
                    左側是 Prompt，右側顯示 4-9 個模型輸出，標註者需要將它們從最好排到最差。
                </div>
            </div>
        </section>

        <div class="nav-bar">
            <a href="03-results.html" class="nav-btn">← 上一頁：主要結果</a>
            <a href="index.html" class="nav-btn">目錄</a>
            <a href="05-detailed-results.html" class="nav-btn primary">下一頁：詳細實驗結果 →</a>
        </div>
    </div>
</body>
</html>

